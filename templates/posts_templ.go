// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

type PostData struct {
	Title       string
	Description string
	Date        string
	Slug        string
	TagsJson    []TagData
}

type TagData struct {
	ID   string
	Name string
}

func Posts(title string, posts []PostData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = Base(title, PostsContent(title, posts)).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func PostsContent(title string, posts []PostData) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var2 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var2 == nil {
			templ_7745c5c3_Var2 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<main><div class=\"posts-title-bar\"><h1>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(title)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/posts.templ`, Line: 23, Col: 14}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "</h1><div class=\"posts-search-bar\"><input type=\"search\" id=\"posts-search\" placeholder=\"Search posts...\" autocomplete=\"off\"></div></div><section class=\"posts-list-section\"><posts-list id=\"posts-list\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		for _, post := range posts {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "<post-card class=\"item\" title=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var4 string
			templ_7745c5c3_Var4, templ_7745c5c3_Err = templ.JoinStringErrs(post.Title)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/posts.templ`, Line: 31, Col: 47}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var4))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "\" description=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var5 string
			templ_7745c5c3_Var5, templ_7745c5c3_Err = templ.JoinStringErrs(post.Description)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/posts.templ`, Line: 31, Col: 80}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var5))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, "\" date=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var6 string
			templ_7745c5c3_Var6, templ_7745c5c3_Err = templ.JoinStringErrs(post.Date)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/posts.templ`, Line: 31, Col: 99}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var6))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "\" link=\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			var templ_7745c5c3_Var7 string
			templ_7745c5c3_Var7, templ_7745c5c3_Err = templ.JoinStringErrs("/posts/" + post.Slug)
			if templ_7745c5c3_Err != nil {
				return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/posts.templ`, Line: 31, Col: 130}
			}
			_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var7))
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, "\">")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
			for _, tag := range post.TagsJson {
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "<tag-item slot=\"tags\" link=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var8 string
				templ_7745c5c3_Var8, templ_7745c5c3_Err = templ.JoinStringErrs("/tags/" + tag.ID)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/posts.templ`, Line: 33, Col: 53}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var8))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, "\" name=\"")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				var templ_7745c5c3_Var9 string
				templ_7745c5c3_Var9, templ_7745c5c3_Err = templ.JoinStringErrs(tag.Name)
				if templ_7745c5c3_Err != nil {
					return templ.Error{Err: templ_7745c5c3_Err, FileName: `templates/posts.templ`, Line: 33, Col: 71}
				}
				_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var9))
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
				templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "\"></tag-item>")
				if templ_7745c5c3_Err != nil {
					return templ_7745c5c3_Err
				}
			}
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "</post-card>")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 12, "</posts-list></section></main><style>\n\t\tmain {\n\t\t\tpadding: 1rem;\n\t\t\tmargin: 0 auto;\n\t\t\tmax-width: 1200px;\n\t\t\tmin-height: 90vh;\n\t\t\twidth: 100%;\n\t\t}\n\t\t.posts-title-bar {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tgap: 2rem;\n\t\t\tmargin-bottom: 2rem;\n\t\t}\n\t\t.posts-title-bar h1 {\n\t\t\tmargin: 0;\n\t\t\tfont-size: 2.2rem;\n\t\t\tfont-weight: 700;\n\t\t\tflex-shrink: 0;\n\t\t}\n\t\t.posts-search-bar {\n\t\t\tmargin: 0;\n\t\t\tdisplay: flex;\n\t\t\tflex: 1 1 0%;\n\t\t\tjustify-content: flex-end;\n\t\t\tmax-width: none;\n\t\t}\n\t\t.posts-search-bar input[type=\"search\"] {\n\t\t\twidth: 100%;\n\t\t\tmin-width: 0;\n\t\t\tpadding: 0.7em 1em;\n\t\t\tborder-radius: 1.2em;\n\t\t\tborder: 1px solid var(--theme-sys-color-outline, #ccc);\n\t\t\tfont-size: 1.1em;\n\t\t\tbackground: var(--theme-sys-color-surface-container-lowest, #fff);\n\t\t\tcolor: var(--theme-sys-color-on-surface, #222);\n\t\t\toutline: none;\n\t\t\ttransition: border 0.15s;\n\t\t}\n\t\t.posts-search-bar input[type=\"search\"]:focus {\n\t\t\tborder: 1.5px solid var(--theme-sys-color-primary, #007aff);\n\t\t}\n\t\t@media (max-width: 600px) {\n\t\t\t.posts-title-bar {\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: stretch;\n\t\t\t\tgap: 1rem;\n\t\t\t}\n\t\t\t.posts-title-bar h1 {\n\t\t\t\tfont-size: 1.5rem;\n\t\t\t}\n\t\t\t.posts-search-bar {\n\t\t\t\tmax-width: 100%;\n\t\t\t\tflex: 1 1 100%;\n\t\t\t}\n\t\t}\n\t</style><script type=\"module\" src=\"/js/components/tag-item.js\"></script><script type=\"module\" src=\"/js/components/posts-list.js\"></script><script type=\"module\" src=\"/js/components/post-card.js\"></script><script>\n\t\t(function() {\n\t\t\tconst input = document.getElementById('posts-search');\n\t\t\tconst postsList = document.getElementById('posts-list');\n\t\t\tconst cards = Array.from(postsList.querySelectorAll('post-card'));\n\n\t\t\tfunction getQueryParam(name) {\n\t\t\t\tconst url = new URL(window.location);\n\t\t\t\treturn url.searchParams.get(name) || '';\n\t\t\t}\n\t\t\tfunction setQueryParam(name, value) {\n\t\t\t\tconst url = new URL(window.location);\n\t\t\t\tif (value) {\n\t\t\t\t\turl.searchParams.set(name, value);\n\t\t\t\t} else {\n\t\t\t\t\turl.searchParams.delete(name);\n\t\t\t\t}\n\t\t\t\twindow.history.replaceState({}, '', url);\n\t\t\t}\n\n\t\t\tfunction filterPosts(query) {\n\t\t\t\tconst q = query.trim().toLowerCase();\n\t\t\t\tcards.forEach(card => {\n\t\t\t\t\tconst title = (card.getAttribute('title') || '').toLowerCase();\n\t\t\t\t\tconst desc = (card.getAttribute('description') || '').toLowerCase();\n\t\t\t\t\tconst tags = Array.from(card.querySelectorAll('tag-item')).map(t => (t.getAttribute('name') || '').toLowerCase()).join(' ');\n\t\t\t\t\tif (!q || title.includes(q) || desc.includes(q) || tags.includes(q)) {\n\t\t\t\t\t\tcard.style.display = '';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcard.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tinput.addEventListener('input', e => {\n\t\t\t\tconst val = input.value;\n\t\t\t\tsetQueryParam('q', val);\n\t\t\t\tfilterPosts(val);\n\t\t\t});\n\n\t\t\tconst initialQ = getQueryParam('q');\n\t\t\tif (initialQ) {\n\t\t\t\tinput.value = initialQ;\n\t\t\t\tfilterPosts(initialQ);\n\t\t\t}\n\t\t})();\n\t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
