// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.960
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Graph(title string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = Base(title, GraphContent()).Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

func GraphContent() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var2 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var2 == nil {
			templ_7745c5c3_Var2 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<style>\n\t\tbody {\n\t\t\tmargin: 0;\n\t\t\toverflow: hidden;\n\t\t\tfont-family: Arial, sans-serif;\n\t\t}\n\t\t#graph {\n\t\t\twidth: 100vw;\n\t\t\theight: 100vh;\n\t\t\tbackground-color: #f0f0f0;\n\t\t}\n\t\t#node-banner {\n\t\t\tposition: fixed;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\tbackground-color: rgba(51, 51, 51, 0.95);\n\t\t\tcolor: #f0f0f0;\n\t\t\tpadding: 12px 20px;\n\t\t\tbox-sizing: border-box;\n\t\t\tdisplay: none;\n\t\t\talign-items: center;\n\t\t\tjustify-content: space-between;\n\t\t\tz-index: 1000;\n\t\t\tfont-size: 0.95em;\n\t\t}\n\t\t#node-banner-dismiss {\n\t\t\tbackground: transparent;\n\t\t\tborder: none;\n\t\t\tcolor: #f0f0f0;\n\t\t\tfont-size: 1.6em;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 0 10px 0 0;\n\t\t\tline-height: 1;\n\t\t}\n\t\t#node-banner-dismiss:hover {\n\t\t\tcolor: #ffffff;\n\t\t}\n\t\t#node-banner-text {\n\t\t\tflex-grow: 1;\n\t\t\ttext-align: center;\n\t\t\tpadding: 0 15px;\n\t\t\twhite-space: nowrap;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t\t#node-banner-navigate {\n\t\t\tbackground-color: #007bff;\n\t\t\tcolor: white;\n\t\t\tborder: none;\n\t\t\tpadding: 8px 16px;\n\t\t\ttext-align: center;\n\t\t\ttext-decoration: none;\n\t\t\tdisplay: inline-block;\n\t\t\tfont-size: 0.9em;\n\t\t\tborder-radius: 4px;\n\t\t\tcursor: pointer;\n\t\t\ttransition: background-color 0.2s ease;\n\t\t\twhite-space: nowrap;\n\t\t}\n\t\t#node-banner-navigate:hover {\n\t\t\tbackground-color: #0056b3;\n\t\t}\n\t</style><div id=\"graph\"></div><div id=\"node-banner\"><button id=\"node-banner-dismiss\">&times;</button> <span id=\"node-banner-text\">Node Label</span> <button id=\"node-banner-navigate\">Open</button></div><script src=\"//cdn.jsdelivr.net/npm/3d-force-graph\"></script><script>\n\t\tconst banner = document.getElementById('node-banner');\n\t\tconst bannerText = document.getElementById('node-banner-text');\n\t\tconst navigateButton = document.getElementById('node-banner-navigate');\n\t\tconst dismissButton = document.getElementById('node-banner-dismiss');\n\t\tlet currentLink = '';\n\n\t\tfetch('/graph.json').then(res => res.json()).then(data => {\n\t\t\tconst graphDiv = document.getElementById('graph');\n\t\t\tconst Graph = new ForceGraph3D()(graphDiv)\n\t\t\t\t.graphData(data)\n\t\t\t\t.nodeId('id')\n\t\t\t\t.nodeVal('val')\n\t\t\t\t.nodeLabel('label')\n\t\t\t\t.nodeAutoColorBy('group')\n\t\t\t\t.linkSource('source')\n\t\t\t\t.linkTarget('target')\n\t\t\t\t.onNodeClick(node => {\n\t\t\t\t\tif (node && node.link) {\n\t\t\t\t\t\tbannerText.textContent = node.label;\n\t\t\t\t\t\tcurrentLink = node.link;\n\t\t\t\t\t\tbanner.style.display = 'flex';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbanner.style.display = 'none';\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\twindow.addEventListener('resize', () => {\n\t\t\t\tGraph.width(graphDiv.offsetWidth);\n\t\t\t\tGraph.height(graphDiv.offsetHeight);\n\t\t\t});\n\n\t\t\tGraph.width(graphDiv.offsetWidth);\n\t\t\tGraph.height(graphDiv.offsetHeight);\n\t\t});\n\n\t\tnavigateButton.addEventListener('click', () => {\n\t\t\tif (currentLink) {\n\t\t\t\twindow.location.href = currentLink;\n\t\t\t}\n\t\t});\n\n\t\tdismissButton.addEventListener('click', () => {\n\t\t\tbanner.style.display = 'none';\n\t\t\tcurrentLink = '';\n\t\t});\n\t</script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
