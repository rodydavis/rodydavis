
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <base href="/">
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Deep Linking for Flutter Web</title>
      <link rel="stylesheet" type="text/css" href="/index.css" />
      <link rel="stylesheet" type="text/css" href="/article.css" />
      <link
        href="https://fonts.googleapis.com/css?family=Material+Icons&display=block"
        rel="stylesheet"
      />
      <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/default.min.css">
      <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
    </head>
    <body>
      <nav-wrapper title="Deep Linking for Flutter Web">
        <article>
         <h3 id="deep-linking-for-flutter-web">Deep Linking for Flutter Web</h3>
<p>In this article I will show you how to have proper URL navigation for your application. Open links to specific pages, protected routes and custom transitions.</p>
<p>There is a online demo here:</p>
<p><a href="https://rodydavis.github.io/flutter_deep_linking/" rel="noopener noreferrer" target="_blank">https://rodydavis.github.io/flutter_deep_linking/</a></p>
<p>Here is the source code:</p>
<p><a href="https://github.com/rodydavis/flutter_deep_linking" rel="noopener noreferrer" target="_blank">https://github.com/rodydavis/flutter_deep_linking</a></p>
<h4 id="setup">Setup</h4>
<ul>
<li><p>Create a new flutter project called “flutter_deep_linking”</p></li>
<li><p>Open that folder up in VSCode</p></li>
<li><p>Update your “pubspec.yaml” with the following:</p></li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*T8p4RgLHWHHaAo1JbhUB-g.png" alt="" /></p>
<h4 id="step-1">Step 1</h4>
<ul>
<li>Create a file at “lib/ui/home/screen.dart” and add the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*1qTWt0lGfSQeUwoTjzbFuA.png" alt="" /></p>
<ul>
<li>Update your “lib/main.dart” with the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*Vo3FEkRX_to3SbYsUQ8a5Q.png" alt="" /></p>
<ul>
<li>Run your application and you should see the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/3468/1*1O9oKvIOSCpgwJ6GekFG4Q.png" alt="" /></p>
<h4 id="step-2">Step 2</h4>
<p>Now we need to grab the url the user enters into the address bar.</p>
<ul>
<li><p>Create a folder at this location “lib/plugins/navigator”</p></li>
<li><p>Create a file inside named: “web.dart” with the following:</p></li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2072/1*hkuI9pfODs-yewfNUPMbTw.png" alt="" /></p>
<ul>
<li>Create a file inside named: “unsupported.dart” with the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*u2BPO9L2w9ci-RI9dOi43Q.png" alt="" /></p>
<ul>
<li>Create a file inside named: “navigator.dart” with the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2032/1*-QnmWVuypD4z58ZXLircaA.png" alt="" /></p>
<ul>
<li>Now go back to your “lib/main.dart” file and add the navigator:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2080/1*UN0nQy8wcXELNBzfIMqNZA.png" alt="" /></p>
<blockquote>
  <p>It’s important to import the navigator as shown as this will have the conditional import for web compiling.</p>
</blockquote>
<ul>
<li>If you run the app now nothing should change.</li>
</ul>
<h4 id="step-3">Step 3</h4>
<p>Now let’s add the proper routing.</p>
<ul>
<li>Create a new file “lib/ui/router.dart” and add the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2404/1*JpwIDmcnQMzxTdSr0OQWfQ.png" alt="" /></p>
<ul>
<li>Also update “lib/main.dart” with the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2120/1*4e_oz-ENDkaBS35ZoEZQMA.png" alt="" /></p>
<blockquote>
  <p>Notice how we removed the “home” field for MaterialApp. This is because the router will handle everything. By default we will go home on “/”</p>
</blockquote>
<h4 id="step-4">Step 4</h4>
<p>Now let’s add multiple screens to put this to the test! Add the following folders and files.</p>
<ul>
<li>Create a file “lib/ui/account/screen.dart” and add the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2056/1*vRXbGfLK-D1827s2C57aEQ.png" alt="" /></p>
<ul>
<li>Create a file “lib/ui/settings/screen.dart” and add the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*FJK7a8eeOyVFbAcULxo_Gw.png" alt="" /></p>
<ul>
<li>Create a file “lib/ui/about/screen.dart” and add the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*A9CJ8-bGCv2Np6ZLS9l5oA.png" alt="" /></p>
<ul>
<li>Add the following to “lib/ui/router.dart”:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2332/1*kKTHn14JH6AXhkbuLUCnFA.png" alt="" /></p>
<ul>
<li>Now when you navigate to /about, /account and /settings you will go to the new pages!</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/3468/1*5Qtymz13vrEZmCa9zRikWw.png" alt="" /></p>
<h4 id="step-5">Step 5</h4>
<p>Now let’s tie into the browser navigation buttons! Update “lib/ui/home/screen.dart” with the following:</p>
<p><img src="https://cdn-images-1.medium.com/max/2516/1*6JTelDsDG6njWK8watZdlQ.png" alt="" /></p>
<ul>
<li>Now when you run the application and click on the settings icon it will launch the new screen as expected. But if you click your browsers back button it will go back to the home screen!</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/3468/1*Fji7xHupcpduXITJ9JmzYw.png" alt="" /></p>
<p><img src="https://cdn-images-1.medium.com/max/3468/1*8wQrI1MJPi6MGr65jaqjTQ.png" alt="" /></p>
<h4 id="step-6">Step 6</h4>
<p>These urls are great but what if you want to pass data such as an ID that is not known ahead of time? No worries!</p>
<ul>
<li>Update “lib/ui/account/screen.dart” with the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2184/1*yOpcN7lpYP9cc5Mo2dJQwg.png" alt="" /></p>
<ul>
<li>Let’s update our “lib/ui/router.dart” with the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/2064/1*izyMARAi5g8GrV3q-qwUcw.png" alt="" /></p>
<ul>
<li>Now when you run your application and navigate to “/account/40” you will see the following:</li>
</ul>
<p><img src="https://cdn-images-1.medium.com/max/3468/1*wKMr8wDsEWKxvrkTVnfKLQ.png" alt="" /></p>
<h4 id="conclusion">Conclusion</h4>
<p>Dynamic routes work great for Flutter web, you just need to know what to tweak! This package uses a forked version of fluro for some fixes I added but once the PRs is merged you can just use the regular package. Let me know what you think below and if there is a better way I am not seeing!</p>
<p>Here is the final code: <a href="https://github.com/rodydavis/flutter_deep_linking" rel="noopener noreferrer" target="_blank">https://github.com/rodydavis/flutter_deep_linking</a></p>
        </article>
      </nav-wrapper>
      <noscript>You need to enable JavaScript to run this app.</noscript>
      <script type="module" src="/dist/components/nav-wrapper.js"></script>
      <script>hljs.initHighlightingOnLoad();</script>
  
  <script
    src="https://utteranc.es/client.js"
    repo="rodydavis/rodydavis"
    issue-term="pathname"
    theme="github-light"
    crossorigin="anonymous"
    async
  ></script>
  
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js');
        });
      }
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-analytics.js"></script>
    <script>
      const firebaseConfig = {
        apiKey: 'AIzaSyCfbxrJWY2QgbSJrCnS3jZ8mfBwvQrqII0',
        authDomain: 'development-267918.firebaseapp.com',
        databaseURL: 'https://development-267918.firebaseio.com',
        projectId: 'development-267918',
        storageBucket: 'development-267918.appspot.com',
        messagingSenderId: '700791912456',
        appId: '1:700791912456:web:0b4947c995cec6c38bb9bd',
        measurementId: 'G-JQNPVBL9DR',
      };
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
    </script>

    </body>
  </html>