<!DOCTYPE html>
<html lang="en" class="astro-MDYSN4OI">
  <head>
    <!-- Global Metadata --><meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="icon" type="image/x-icon" href="/favicon.ico">
<meta name="generator" content="Astro v2.0.4">

<!-- Canonical URL -->
<link rel="canonical" href="https://rodydavis.com/posts/lit-rich-text-editor/">

<!-- Primary Meta Tags -->
<title>Building a Rich Text Editor with Lit</title>
<meta name="title" content="Building a Rich Text Editor with Lit">
<meta name="description">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://rodydavis.com/posts/lit-rich-text-editor/">
<meta property="og:title" content="Building a Rich Text Editor with Lit">
<meta property="og:description">
<meta property="og:image" content="https://rodydavis.com/placeholder-social.jpg">

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image">
<meta property="twitter:url" content="https://rodydavis.com/posts/lit-rich-text-editor/">
<meta property="twitter:title" content="Building a Rich Text Editor with Lit">
<meta property="twitter:description">
<meta property="twitter:image" content="https://rodydavis.com/placeholder-social.jpg">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JQNPVBL9DR"></script>

    
  <link rel="stylesheet" href="/_astro/_...slug_.a5420181.css" />
<link rel="stylesheet" href="/_astro/_...slug_.55121d5d.css" /><script type="module">window.dataLayer=window.dataLayer||[];function a(){dataLayer.push(arguments)}a("js",new Date);a("config","G-JQNPVBL9DR");
</script></head>

  <body class="markdown-body astro-MDYSN4OI">
    <header class="astro-3EF6KSR2">
  <h2 class="astro-3EF6KSR2">
    <a href="/" class="astro-3EF6KSR2">Rody Davis</a>
  </h2>
  <nav class="astro-3EF6KSR2">
    <a href="/search?tags=app" class="astro-3EF6KSR2 astro-EIMMU3LG" style="display:flex;flex-direction:row;align-items:center">
  
  <div class="astro-EIMMU3LG"> Apps</div>
</a><a href="/search?tags=posts" class="astro-3EF6KSR2 astro-EIMMU3LG" style="display:flex;flex-direction:row;align-items:center">
  
  <div class="astro-EIMMU3LG"> Blog</div>
</a><a href="/talks" class="astro-3EF6KSR2 astro-EIMMU3LG" style="display:flex;flex-direction:row;align-items:center">
  
  <div class="astro-EIMMU3LG"> Talks</div>
</a><a href="/about" class="astro-3EF6KSR2 astro-EIMMU3LG" style="display:flex;flex-direction:row;align-items:center">
  
  <div class="astro-EIMMU3LG"> About</div>
</a>
  </nav>
</header>
    <main class="astro-MDYSN4OI">
      <style>astro-island,astro-slot{display:contents}</style><script>(self.Astro=self.Astro||{}).idle=t=>{const e=async()=>{await(await t())()};"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,200)},window.dispatchEvent(new Event("astro:idle"));var l;{const c={0:t=>t,1:t=>JSON.parse(t,o),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(JSON.parse(t,o)),5:t=>new Set(JSON.parse(t,o)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(JSON.parse(t)),9:t=>new Uint16Array(JSON.parse(t)),10:t=>new Uint32Array(JSON.parse(t))},o=(t,s)=>{if(t===""||!Array.isArray(s))return s;const[e,n]=s;return e in c?c[e](n):void 0};customElements.get("astro-island")||customElements.define("astro-island",(l=class extends HTMLElement{constructor(){super(...arguments);this.hydrate=()=>{if(!this.hydrator||this.parentElement&&this.parentElement.closest("astro-island[ssr]"))return;const s=this.querySelectorAll("astro-slot"),e={},n=this.querySelectorAll("template[data-astro-template]");for(const r of n){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(const r of s){const i=r.closest(this.tagName);!i||!i.isSameNode(this)||(e[r.getAttribute("name")||"default"]=r.innerHTML)}const a=this.hasAttribute("props")?JSON.parse(this.getAttribute("props"),o):{};this.hydrator(this)(this.Component,a,e,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),window.removeEventListener("astro:hydrate",this.hydrate),window.dispatchEvent(new CustomEvent("astro:hydrate"))}}connectedCallback(){!this.hasAttribute("await-children")||this.firstChild?this.childrenConnectedCallback():new MutationObserver((s,e)=>{e.disconnect(),this.childrenConnectedCallback()}).observe(this,{childList:!0})}async childrenConnectedCallback(){window.addEventListener("astro:hydrate",this.hydrate);let s=this.getAttribute("before-hydration-url");s&&await import(s),this.start()}start(){const s=JSON.parse(this.getAttribute("opts")),e=this.getAttribute("client");if(Astro[e]===void 0){window.addEventListener(`astro:${e}`,()=>this.start(),{once:!0});return}Astro[e](async()=>{const n=this.getAttribute("renderer-url"),[a,{default:r}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),i=this.getAttribute("component-export")||"default";if(!i.includes("."))this.Component=a[i];else{this.Component=a;for(const d of i.split("."))this.Component=this.Component[d]}return this.hydrator=r,this.hydrate},s,this)}attributeChangedCallback(){this.hydrator&&this.hydrate()}},l.observedAttributes=["props"],l))}</script><main class="astro-BVZIHDZO">
    <article class="astro-BVZIHDZO">
      <!-- {
        image !== undefined && (
          <img width={720} height={360} src={image} alt="" />
        )
      } -->
      <h1 class="title astro-BVZIHDZO">Building a Rich Text Editor with Lit</h1>
      <time class="astro-BVZIHDZO">May 26, 2021</time>
      
      <div class="tags astro-BVZIHDZO">
        <astro-island uid="Z13Ahbp" component-url="/_astro/TagChip.aa70bafd.js" component-export="default" renderer-url="/_astro/client.15ddb572.js" props="{&quot;tag&quot;:[0,&quot;posts&quot;],&quot;active&quot;:[0,false],&quot;onClick&quot;:[0,null],&quot;class&quot;:[0,&quot;astro-BVZIHDZO&quot;]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;TagChip&quot;,&quot;value&quot;:true}" await-children=""><div style="padding: 0.25rem 0.5rem; border-radius: 0.25rem; background-color: var(--tag-background); color: var(--tag-color); cursor: pointer; white-space: nowrap; display: flex; flex-direction: row; align-items: center; gap: 0.25rem;">posts</div></astro-island><astro-island uid="1x5jP4" component-url="/_astro/TagChip.aa70bafd.js" component-export="default" renderer-url="/_astro/client.15ddb572.js" props="{&quot;tag&quot;:[0,&quot;editor&quot;],&quot;active&quot;:[0,false],&quot;onClick&quot;:[0,null],&quot;class&quot;:[0,&quot;astro-BVZIHDZO&quot;]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;TagChip&quot;,&quot;value&quot;:true}" await-children=""><div style="padding: 0.25rem 0.5rem; border-radius: 0.25rem; background-color: var(--tag-background); color: var(--tag-color); cursor: pointer; white-space: nowrap; display: flex; flex-direction: row; align-items: center; gap: 0.25rem;">editor</div></astro-island><astro-island uid="ZdX9iC" component-url="/_astro/TagChip.aa70bafd.js" component-export="default" renderer-url="/_astro/client.15ddb572.js" props="{&quot;tag&quot;:[0,&quot;web&quot;],&quot;active&quot;:[0,false],&quot;onClick&quot;:[0,null],&quot;class&quot;:[0,&quot;astro-BVZIHDZO&quot;]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;TagChip&quot;,&quot;value&quot;:true}" await-children=""><div style="padding: 0.25rem 0.5rem; border-radius: 0.25rem; background-color: var(--tag-background); color: var(--tag-color); cursor: pointer; white-space: nowrap; display: flex; flex-direction: row; align-items: center; gap: 0.25rem;">web</div></astro-island><astro-island uid="427dl" component-url="/_astro/TagChip.aa70bafd.js" component-export="default" renderer-url="/_astro/client.15ddb572.js" props="{&quot;tag&quot;:[0,&quot;lit&quot;],&quot;active&quot;:[0,false],&quot;onClick&quot;:[0,null],&quot;class&quot;:[0,&quot;astro-BVZIHDZO&quot;]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;TagChip&quot;,&quot;value&quot;:true}" await-children=""><div style="padding: 0.25rem 0.5rem; border-radius: 0.25rem; background-color: var(--tag-background); color: var(--tag-color); cursor: pointer; white-space: nowrap; display: flex; flex-direction: row; align-items: center; gap: 0.25rem;">lit</div></astro-island><astro-island uid="Z2glnsn" component-url="/_astro/TagChip.aa70bafd.js" component-export="default" renderer-url="/_astro/client.15ddb572.js" props="{&quot;tag&quot;:[0,&quot;wysiwyg&quot;],&quot;active&quot;:[0,false],&quot;onClick&quot;:[0,null],&quot;class&quot;:[0,&quot;astro-BVZIHDZO&quot;]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;TagChip&quot;,&quot;value&quot;:true}" await-children=""><div style="padding: 0.25rem 0.5rem; border-radius: 0.25rem; background-color: var(--tag-background); color: var(--tag-color); cursor: pointer; white-space: nowrap; display: flex; flex-direction: row; align-items: center; gap: 0.25rem;">wysiwyg</div></astro-island><astro-island uid="14MSyW" component-url="/_astro/TagChip.aa70bafd.js" component-export="default" renderer-url="/_astro/client.15ddb572.js" props="{&quot;tag&quot;:[0,&quot;vite&quot;],&quot;active&quot;:[0,false],&quot;onClick&quot;:[0,null],&quot;class&quot;:[0,&quot;astro-BVZIHDZO&quot;]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;TagChip&quot;,&quot;value&quot;:true}" await-children=""><div style="padding: 0.25rem 0.5rem; border-radius: 0.25rem; background-color: var(--tag-background); color: var(--tag-color); cursor: pointer; white-space: nowrap; display: flex; flex-direction: row; align-items: center; gap: 0.25rem;">vite</div></astro-island><astro-island uid="1EQIUc" component-url="/_astro/TagChip.aa70bafd.js" component-export="default" renderer-url="/_astro/client.15ddb572.js" props="{&quot;tag&quot;:[0,&quot;playground&quot;],&quot;active&quot;:[0,false],&quot;onClick&quot;:[0,null],&quot;class&quot;:[0,&quot;astro-BVZIHDZO&quot;]}" ssr="" client="idle" opts="{&quot;name&quot;:&quot;TagChip&quot;,&quot;value&quot;:true}" await-children=""><div style="padding: 0.25rem 0.5rem; border-radius: 0.25rem; background-color: var(--tag-background); color: var(--tag-color); cursor: pointer; white-space: nowrap; display: flex; flex-direction: row; align-items: center; gap: 0.25rem;">playground</div></astro-island>
      </div>
      <div class="headings astro-BVZIHDZO">
            <details class="astro-XVRFUPWN">
  <summary class="astro-XVRFUPWN">Table of Contents</summary>
  <ul class="astro-XVRFUPWN">
    <li class="astro-XVRFUPWN">
          <a href="#" class="heading-depth-2 astro-XVRFUPWN">
            Prerequisites
          </a>
        </li><li class="astro-XVRFUPWN">
          <a href="#-1" class="heading-depth-2 astro-XVRFUPWN">
            Getting Started
          </a>
        </li><li class="astro-XVRFUPWN">
          <a href="#-2" class="heading-depth-2 astro-XVRFUPWN">
            Template
          </a>
        </li><li class="astro-XVRFUPWN">
          <a href="#-3" class="heading-depth-2 astro-XVRFUPWN">
            Editor
          </a>
        </li><li class="astro-XVRFUPWN">
          <a href="#-4" class="heading-depth-2 astro-XVRFUPWN">
            Toolbar
          </a>
        </li><li class="astro-XVRFUPWN">
          <a href="#-5" class="heading-depth-2 astro-XVRFUPWN">
            Running
          </a>
        </li><li class="astro-XVRFUPWN">
          <a href="#-6" class="heading-depth-2 astro-XVRFUPWN">
            Conclusion
          </a>
        </li>
  </ul>
</details>
          </div>
      <p>In this article I will go over how to set up a <a href="https://lit.dev">Lit</a> web component and use it to create a rich text editor.</p>
<blockquote>
<p><strong>TLDR</strong> The final source <a href="https://github.com/rodydavis/lit-html-editor">here</a> and an online <a href="https://rodydavis.github.io/lit-html-editor/">demo</a>.</p>
</blockquote>
<div id="playground" hidden></div>
<script>
  addFiles('lit-html-editor', 'rich-text-editor.ts', 'master')
</script>
<h2 id=""><a aria-hidden="true" tabindex="-1" href="#"><span class="icon icon-link"></span></a>Prerequisites</h2>
<ul>
<li>Vscode</li>
<li>Node >= 16</li>
<li>Typescript</li>
</ul>
<h2 id="-1"><a aria-hidden="true" tabindex="-1" href="#-1"><span class="icon icon-link"></span></a>Getting Started</h2>
<p>We can start off by navigating in terminal to the location of the project and run the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">npm init @vitejs/app --template lit-ts</span></span></code></pre>
<p>Then enter a project name <code>lit-rich-text-editor</code> and now open the project in vscode and install the dependencies:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #79C0FF">cd</span><span style="color: #C9D1D9"> lit-rich-text-editor</span></span>
<span class="line"><span style="color: #C9D1D9">npm i @material/mwc-icon-button</span></span>
<span class="line"><span style="color: #C9D1D9">npm i -D @types/node</span></span>
<span class="line"><span style="color: #C9D1D9">code </span><span style="color: #79C0FF">.</span></span></code></pre>
<p>Update the <code>vite.config.ts</code> with the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">import</span><span style="color: #C9D1D9"> { defineConfig } </span><span style="color: #FF7B72">from</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"vite"</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #FF7B72">import</span><span style="color: #C9D1D9"> { resolve } </span><span style="color: #FF7B72">from</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"path"</span><span style="color: #C9D1D9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">export</span><span style="color: #FFA657"> </span><span style="color: #FF7B72">default</span><span style="color: #FFA657"> </span><span style="color: #D2A8FF">defineConfig</span><span style="color: #FFA657">({</span></span>
<span class="line"><span style="color: #FFA657">  </span><span style="color: #C9D1D9">base: </span><span style="color: #A5D6FF">'/lit-rich-text-editor/'</span><span style="color: #FFA657">,</span></span>
<span class="line"><span style="color: #FFA657">  </span><span style="color: #C9D1D9">build: {</span></span>
<span class="line"><span style="color: #C9D1D9">    lib: {</span></span>
<span class="line"><span style="color: #C9D1D9">      entry: </span><span style="color: #A5D6FF">"src/lit-rich-text-editor.ts"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      formats: [</span><span style="color: #A5D6FF">"es"</span><span style="color: #C9D1D9">],</span></span>
<span class="line"><span style="color: #C9D1D9">    },</span></span>
<span class="line"><span style="color: #C9D1D9">    rollupOptions: {</span></span>
<span class="line"><span style="color: #C9D1D9">      input: {</span></span>
<span class="line"><span style="color: #C9D1D9">        main: </span><span style="color: #D2A8FF">resolve</span><span style="color: #C9D1D9">(__dirname, </span><span style="color: #A5D6FF">"index.html"</span><span style="color: #C9D1D9">),</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">    },</span></span>
<span class="line"><span style="color: #C9D1D9">  }</span><span style="color: #FFA657">,</span></span>
<span class="line"><span style="color: #FFA657">})</span><span style="color: #C9D1D9">;</span></span>
<span class="line"></span></code></pre>
<h2 id="-2"><a aria-hidden="true" tabindex="-1" href="#-2"><span class="icon icon-link"></span></a>Template</h2>
<p>Open up the <code>index.html</code> and update it with the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&#x3C;!</span><span style="color: #7EE787">DOCTYPE</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">html</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">lang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"en"</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">  &#x3C;</span><span style="color: #7EE787">head</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">meta</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">charset</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"UTF-8"</span><span style="color: #C9D1D9"> /></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">link</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">rel</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"icon"</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"image/svg+xml"</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">href</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"/src/favicon.svg"</span><span style="color: #C9D1D9"> /></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">meta</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">name</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"viewport"</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">content</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"width=device-width, initial-scale=1.0"</span><span style="color: #C9D1D9"> /></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">link</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #79C0FF">href</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"https://fonts.googleapis.com/css?family=Material+Icons&#x26;display=block"</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #79C0FF">rel</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"stylesheet"</span></span>
<span class="line"><span style="color: #C9D1D9">    /></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">title</span><span style="color: #C9D1D9">>Lit Rich Text Editor&#x3C;/</span><span style="color: #7EE787">title</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">script</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"module"</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"/src/lit-rich-text-editor.ts"</span><span style="color: #C9D1D9">>&#x3C;/</span><span style="color: #7EE787">script</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">style</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #7EE787">body</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #79C0FF">padding</span><span style="color: #C9D1D9">: </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #79C0FF">margin</span><span style="color: #C9D1D9">: </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">      }</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #7EE787">lit-rich-text-editor</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FFA657">--editor-width</span><span style="color: #C9D1D9">: </span><span style="color: #79C0FF">100</span><span style="color: #FF7B72">%</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FFA657">--editor-height</span><span style="color: #C9D1D9">: </span><span style="color: #79C0FF">100</span><span style="color: #FF7B72">vh</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">      }</span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;/</span><span style="color: #7EE787">style</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">  &#x3C;/</span><span style="color: #7EE787">head</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">  &#x3C;</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">lit-rich-text-editor</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">     &#x3C;</span><span style="color: #7EE787">template</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">        &#x3C;</span><span style="color: #7EE787">h1</span><span style="color: #C9D1D9">>Headline 1&#x3C;/</span><span style="color: #7EE787">h1</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">        &#x3C;</span><span style="color: #7EE787">p</span><span style="color: #C9D1D9">>This is a paragraph.&#x3C;/</span><span style="color: #7EE787">p</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">        &#x3C;</span><span style="color: #7EE787">p</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">          &#x3C;</span><span style="color: #7EE787">span</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">style</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"background-color: rgb(255, 0, 0)"</span></span>
<span class="line"><span style="color: #C9D1D9">            >&#x3C;</span><span style="color: #FFA198">font</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">color</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"#ffffff"</span><span style="color: #C9D1D9">>Styled Text&#x3C;/</span><span style="color: #FFA198">font</span><span style="color: #C9D1D9">>&#x3C;/</span><span style="color: #7EE787">span</span></span>
<span class="line"><span style="color: #C9D1D9">          ></span></span>
<span class="line"><span style="color: #C9D1D9">        &#x3C;/</span><span style="color: #7EE787">p</span><span style="color: #C9D1D9">></span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">        &#x3C;</span><span style="color: #7EE787">p</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do</span></span>
<span class="line"><span style="color: #C9D1D9">          eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad</span></span>
<span class="line"><span style="color: #C9D1D9">          minim veniam, quis nostrud exercitation ullamco laboris nisi ut</span></span>
<span class="line"><span style="color: #C9D1D9">          aliquip ex ea commodo consequat. Duis aute irure dolor in</span></span>
<span class="line"><span style="color: #C9D1D9">          reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla</span></span>
<span class="line"><span style="color: #C9D1D9">          pariatur. Excepteur sint occaecat cupidatat non proident, sunt in</span></span>
<span class="line"><span style="color: #C9D1D9">          culpa qui officia deserunt mollit anim id est laborum.</span></span>
<span class="line"><span style="color: #C9D1D9">        &#x3C;/</span><span style="color: #7EE787">p</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">      &#x3C;/</span><span style="color: #7EE787">template</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;/</span><span style="color: #7EE787">lit-rich-text-editor</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">  &#x3C;/</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;/</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">></span></span>
<span class="line"></span></code></pre>
<p>The important things to take away are the styles added to remove the body padding and send size <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/--*">CSS Custom Properties</a> to the editor to take up the full viewport.</p>
<p>Inside the <code>lit-rich-text-editor</code> tags there is a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template"><code>template</code></a> passed as a slot to provide html that will not be rendered but can be accessed.</p>
<p>There is also an import for the <a href="https://fonts.google.com/icons">Material Icons</a> so it can be used in the editor later.</p>
<h2 id="-3"><a aria-hidden="true" tabindex="-1" href="#-3"><span class="icon icon-link"></span></a>Editor</h2>
<p>The next thing to create is the editor itself. Open up <code>src/lit-rich-text-editor.ts</code> and update it with the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">import</span><span style="color: #C9D1D9"> { html, css, LitElement } </span><span style="color: #FF7B72">from</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"lit"</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #FF7B72">import</span><span style="color: #C9D1D9"> { customElement, property, state } </span><span style="color: #FF7B72">from</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"lit/decorators.js"</span><span style="color: #C9D1D9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #FF7B72">import</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"@material/mwc-icon-button"</span><span style="color: #C9D1D9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">@</span><span style="color: #D2A8FF">customElement</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"lit-rich-text-editor"</span><span style="color: #C9D1D9">)</span></span>
<span class="line"><span style="color: #FF7B72">export</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">class</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">LitRichTextEditor</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">extends</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">LitElement</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">  @</span><span style="color: #D2A8FF">state</span><span style="color: #C9D1D9">() </span><span style="color: #FFA657">content</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">""</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  @</span><span style="color: #D2A8FF">state</span><span style="color: #C9D1D9">() </span><span style="color: #FFA657">root</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">Element</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">|</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">null</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">null</span><span style="color: #C9D1D9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">static</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">styles</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">css</span><span style="color: #A5D6FF">`</span></span>
<span class="line"><span style="color: #A5D6FF">    :host {</span></span>
<span class="line"><span style="color: #A5D6FF">      --editor-width: 600px;</span></span>
<span class="line"><span style="color: #A5D6FF">      --editor-height: 600px;</span></span>
<span class="line"><span style="color: #A5D6FF">      --editor-background: #f1f1f1;</span></span>
<span class="line"><span style="color: #A5D6FF">      --editor-toolbar-height: 33px;</span></span>
<span class="line"><span style="color: #A5D6FF">      --editor-toolbar-background: black;</span></span>
<span class="line"><span style="color: #A5D6FF">      --editor-toolbar-on-background: white;</span></span>
<span class="line"><span style="color: #A5D6FF">      --editor-toolbar-on-active-background: #a4a4a4;</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    main {</span></span>
<span class="line"><span style="color: #A5D6FF">      width: var(--editor-width);</span></span>
<span class="line"><span style="color: #A5D6FF">      height: var(--editor-height);</span></span>
<span class="line"><span style="color: #A5D6FF">      display: grid;</span></span>
<span class="line"><span style="color: #A5D6FF">      grid-template-areas:</span></span>
<span class="line"><span style="color: #A5D6FF">        "toolbar toolbar"</span></span>
<span class="line"><span style="color: #A5D6FF">        "editor editor";</span></span>
<span class="line"><span style="color: #A5D6FF">      grid-template-rows: var(--editor-toolbar-height) auto;</span></span>
<span class="line"><span style="color: #A5D6FF">      grid-template-columns: auto auto;</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    #editor-actions {</span></span>
<span class="line"><span style="color: #A5D6FF">      grid-area: toolbar;</span></span>
<span class="line"><span style="color: #A5D6FF">      width: var(--editor-width);</span></span>
<span class="line"><span style="color: #A5D6FF">      height: var(--editor-toolbar-height);</span></span>
<span class="line"><span style="color: #A5D6FF">      background-color: var(--editor-toolbar-background);</span></span>
<span class="line"><span style="color: #A5D6FF">      color: var(--editor-toolbar-on-background);</span></span>
<span class="line"><span style="color: #A5D6FF">      overscroll-behavior: contain;</span></span>
<span class="line"><span style="color: #A5D6FF">      overflow-y: auto;</span></span>
<span class="line"><span style="color: #A5D6FF">      -ms-overflow-style: none;</span></span>
<span class="line"><span style="color: #A5D6FF">      scrollbar-width: none;</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    #editor-actions::-webkit-scrollbar {</span></span>
<span class="line"><span style="color: #A5D6FF">      display: none;</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    #editor {</span></span>
<span class="line"><span style="color: #A5D6FF">      width: var(--editor-width);</span></span>
<span class="line"><span style="color: #A5D6FF">      grid-area: editor;</span></span>
<span class="line"><span style="color: #A5D6FF">      background-color: var(--editor-background);</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    #toolbar {</span></span>
<span class="line"><span style="color: #A5D6FF">      width: 1090px;</span></span>
<span class="line"><span style="color: #A5D6FF">      height: var(--editor-toolbar-height);</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    [contenteditable] {</span></span>
<span class="line"><span style="color: #A5D6FF">      outline: 0px solid transparent;</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    #toolbar > mwc-icon-button {</span></span>
<span class="line"><span style="color: #A5D6FF">      color: var(--editor-toolbar-on-background);</span></span>
<span class="line"><span style="color: #A5D6FF">      --mdc-icon-size: 20px;</span></span>
<span class="line"><span style="color: #A5D6FF">      --mdc-icon-button-size: 30px;</span></span>
<span class="line"><span style="color: #A5D6FF">      cursor: pointer;</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    #toolbar > .active {</span></span>
<span class="line"><span style="color: #A5D6FF">      color: var(--editor-toolbar-on-active-background);</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    select {</span></span>
<span class="line"><span style="color: #A5D6FF">      margin-top: 5px;</span></span>
<span class="line"><span style="color: #A5D6FF">      height: calc(var(--editor-toolbar-height) - 10px);</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    input[type="color"] {</span></span>
<span class="line"><span style="color: #A5D6FF">      height: calc(var(--editor-toolbar-height) - 15px);</span></span>
<span class="line"><span style="color: #A5D6FF">      -webkit-appearance: none;</span></span>
<span class="line"><span style="color: #A5D6FF">      border: none;</span></span>
<span class="line"><span style="color: #A5D6FF">      width: 22px;</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    input[type="color"]::-webkit-color-swatch-wrapper {</span></span>
<span class="line"><span style="color: #A5D6FF">      padding: 0;</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">    input[type="color"]::-webkit-color-swatch {</span></span>
<span class="line"><span style="color: #A5D6FF">      border: none;</span></span>
<span class="line"><span style="color: #A5D6FF">    }</span></span>
<span class="line"><span style="color: #A5D6FF">  `</span><span style="color: #C9D1D9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #D2A8FF">render</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">html</span><span style="color: #A5D6FF">`&#x3C;main></span></span>
<span class="line"><span style="color: #A5D6FF">      &#x3C;input id="bg" type="color" style="display:none" /></span></span>
<span class="line"><span style="color: #A5D6FF">      &#x3C;input id="fg" type="color" style="display:none" /></span></span>
<span class="line"><span style="color: #A5D6FF">      &#x3C;div id="editor-actions"></span></span>
<span class="line"><span style="color: #A5D6FF">        &#x3C;div id="toolbar"></span></span>
<span class="line"><span style="color: #A5D6FF">        &#x3C;/div></span></span>
<span class="line"><span style="color: #A5D6FF">      &#x3C;/div></span></span>
<span class="line"><span style="color: #A5D6FF">      &#x3C;div id="editor">${</span><span style="color: #79C0FF">this</span><span style="color: #A5D6FF">.</span><span style="color: #C9D1D9">root</span><span style="color: #A5D6FF">}&#x3C;/div></span></span>
<span class="line"><span style="color: #A5D6FF">    &#x3C;/main> `</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">async</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">firstUpdated</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">elem</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.parentElement</span><span style="color: #FF7B72">!</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">querySelector</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"lit-rich-text-editor template"</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.content </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> elem?.innerHTML </span><span style="color: #FF7B72">??</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">""</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">reset</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #D2A8FF">reset</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">parser</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">DOMParser</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">doc</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> parser.</span><span style="color: #D2A8FF">parseFromString</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.content, </span><span style="color: #A5D6FF">"text/html"</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">    document.</span><span style="color: #D2A8FF">execCommand</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"defaultParagraphSeparator"</span><span style="color: #C9D1D9">, </span><span style="color: #79C0FF">false</span><span style="color: #C9D1D9">, </span><span style="color: #A5D6FF">"br"</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">    document.</span><span style="color: #D2A8FF">addEventListener</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"selectionchange"</span><span style="color: #C9D1D9">, () </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">requestUpdate</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">    });</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">root</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> doc.</span><span style="color: #D2A8FF">querySelector</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"body"</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">    root</span><span style="color: #FF7B72">!</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">setAttribute</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"contenteditable"</span><span style="color: #C9D1D9">, </span><span style="color: #A5D6FF">"true"</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.root </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> root;</span></span>
<span class="line"><span style="color: #C9D1D9">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span></code></pre>
<p>With everything updated run <code>npm run dev</code> and the following should appear in the browser:</p>
<p><img src="/attachments/rich-text_editor-start.webp" alt=""></p>
<p>Nothing special is happening yet, but the template is being read and passed into the element, parsed and setting the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable"><code>contenteditable</code></a> attribute to <code>true</code>.</p>
<p>This is a way to access the slots and use the nodes to hold data that are not used for rendering. Doing it this way allows for a transformation of the HTML source into a format that can be used.</p>
<h2 id="-4"><a aria-hidden="true" tabindex="-1" href="#-4"><span class="icon icon-link"></span></a>Toolbar</h2>
<p>At the bottom of the class before the last <code>}</code> add the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #D2A8FF">renderToolbar</span><span style="color: #C9D1D9">(command: (</span><span style="color: #FFA657">c</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">, </span><span style="color: #FFA657">val</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">|</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">undefined</span><span style="color: #C9D1D9">) </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">void</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #8B949E">// TODO: Selection does not work on Safari iOS</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">selection</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.shadowRoot?.getSelection</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FF7B72">?</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.shadowRoot</span><span style="color: #FF7B72">!</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">getSelection</span><span style="color: #C9D1D9">()</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">null</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">tags</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">[] </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> [];</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (selection?.type </span><span style="color: #FF7B72">===</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"Range"</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #8B949E">// @ts-ignore</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FF7B72">let</span><span style="color: #C9D1D9"> parentNode </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> selection?.baseNode;</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (parentNode) {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">checkNode</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> () </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">parentTagName</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> parentNode?.tagName?.</span><span style="color: #D2A8FF">toLowerCase</span><span style="color: #C9D1D9">()?.</span><span style="color: #D2A8FF">trim</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (parentTagName) tags.</span><span style="color: #D2A8FF">push</span><span style="color: #C9D1D9">(parentTagName);</span></span>
<span class="line"><span style="color: #C9D1D9">        };</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">while</span><span style="color: #C9D1D9"> (parentNode </span><span style="color: #FF7B72">!=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">null</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #D2A8FF">checkNode</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">          parentNode </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> parentNode?.parentNode;</span></span>
<span class="line"><span style="color: #C9D1D9">        }</span></span>
<span class="line"><span style="color: #C9D1D9">      }</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">commands</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FFA657">icon</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FFA657">command</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">|</span><span style="color: #C9D1D9"> (() </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">void</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FFA657">active</span><span style="color: #FF7B72">?:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">boolean</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FFA657">type</span><span style="color: #FF7B72">?:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FFA657">values</span><span style="color: #FF7B72">?:</span><span style="color: #C9D1D9"> { </span><span style="color: #FFA657">value</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">; </span><span style="color: #FFA657">name</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">; </span><span style="color: #FFA657">font</span><span style="color: #FF7B72">?:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">boolean</span><span style="color: #C9D1D9"> }[];</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #FFA657">command_value</span><span style="color: #FF7B72">?:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">    }[] </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> [</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_clear"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"removeFormat"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_bold"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"bold"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        active: tags.</span><span style="color: #D2A8FF">includes</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"b"</span><span style="color: #C9D1D9">),</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_italic"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"italic"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        active: tags.</span><span style="color: #D2A8FF">includes</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"i"</span><span style="color: #C9D1D9">),</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_underlined"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"underline"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        active: tags.</span><span style="color: #D2A8FF">includes</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"u"</span><span style="color: #C9D1D9">),</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_align_left"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"justifyleft"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_align_center"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"justifycenter"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_align_right"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"justifyright"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_list_numbered"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"insertorderedlist"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        active: tags.</span><span style="color: #D2A8FF">includes</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"ol"</span><span style="color: #C9D1D9">),</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_list_bulleted"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"insertunorderedlist"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        active: tags.</span><span style="color: #D2A8FF">includes</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"ul"</span><span style="color: #C9D1D9">),</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_quote"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"formatblock"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command_value: </span><span style="color: #A5D6FF">"blockquote"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_indent_decrease"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"outdent"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_indent_increase"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"indent"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"add_link"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">: () </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">newLink</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">prompt</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"Write the URL here"</span><span style="color: #C9D1D9">, </span><span style="color: #A5D6FF">"http://"</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (newLink </span><span style="color: #FF7B72">&#x26;&#x26;</span><span style="color: #C9D1D9"> newLink </span><span style="color: #FF7B72">!=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">""</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">&#x26;&#x26;</span><span style="color: #C9D1D9"> newLink </span><span style="color: #FF7B72">!=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"http://"</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"createlink"</span><span style="color: #C9D1D9">, newLink);</span></span>
<span class="line"><span style="color: #C9D1D9">          }</span></span>
<span class="line"><span style="color: #C9D1D9">        },</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      { icon: </span><span style="color: #A5D6FF">"link_off"</span><span style="color: #C9D1D9">, command: </span><span style="color: #A5D6FF">"unlink"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_color_text"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">: () </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">input</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.shadowRoot</span><span style="color: #FF7B72">!</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">querySelector</span><span style="color: #C9D1D9">(</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #A5D6FF">"#fg"</span></span>
<span class="line"><span style="color: #C9D1D9">          )</span><span style="color: #FF7B72">!</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">as</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">HTMLInputElement</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">          input.</span><span style="color: #D2A8FF">addEventListener</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"input"</span><span style="color: #C9D1D9">, (</span><span style="color: #FFA657">e</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">any</span><span style="color: #C9D1D9">) </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">val</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> e.target.value;</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"forecolor"</span><span style="color: #C9D1D9">, val);</span></span>
<span class="line"><span style="color: #C9D1D9">          });</span></span>
<span class="line"><span style="color: #C9D1D9">          input.</span><span style="color: #D2A8FF">click</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">        },</span></span>
<span class="line"><span style="color: #C9D1D9">        type: </span><span style="color: #A5D6FF">"color"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"border_color"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">: () </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">input</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.shadowRoot</span><span style="color: #FF7B72">!</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">querySelector</span><span style="color: #C9D1D9">(</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #A5D6FF">"#bg"</span></span>
<span class="line"><span style="color: #C9D1D9">          )</span><span style="color: #FF7B72">!</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">as</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">HTMLInputElement</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">          input.</span><span style="color: #D2A8FF">addEventListener</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"input"</span><span style="color: #C9D1D9">, (</span><span style="color: #FFA657">e</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">any</span><span style="color: #C9D1D9">) </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">val</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> e.target.value;</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"backcolor"</span><span style="color: #C9D1D9">, val);</span></span>
<span class="line"><span style="color: #C9D1D9">          });</span></span>
<span class="line"><span style="color: #C9D1D9">          input.</span><span style="color: #D2A8FF">click</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">        },</span></span>
<span class="line"><span style="color: #C9D1D9">        type: </span><span style="color: #A5D6FF">"color"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"title"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"formatblock"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        values: [</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Normal Text"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"--"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Heading 1"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"h1"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Heading 2"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"h2"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Heading 3"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"h3"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Heading 4"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"h4"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Heading 5"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"h5"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Heading 6"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"h6"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Paragraph"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"p"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Pre-Formatted"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"pre"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">        ],</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"text_format"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"fontname"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        values: [</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Font Name"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"--"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          </span><span style="color: #FF7B72">...</span><span style="color: #C9D1D9">[</span><span style="color: #FF7B72">...</span><span style="color: #D2A8FF">checkFonts</span><span style="color: #C9D1D9">()].</span><span style="color: #D2A8FF">map</span><span style="color: #C9D1D9">((</span><span style="color: #FFA657">f</span><span style="color: #C9D1D9">) </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> ({</span></span>
<span class="line"><span style="color: #C9D1D9">            name: f,</span></span>
<span class="line"><span style="color: #C9D1D9">            value: f,</span></span>
<span class="line"><span style="color: #C9D1D9">            font: </span><span style="color: #79C0FF">true</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">          })),</span></span>
<span class="line"><span style="color: #C9D1D9">        ],</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"format_size"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"fontsize"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        values: [</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Font Size"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"--"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Very Small"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"1"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Small"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"2"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Normal"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"3"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Medium Large"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"4"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Large"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"5"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Very Large"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"6"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">          { name: </span><span style="color: #A5D6FF">"Maximum"</span><span style="color: #C9D1D9">, value: </span><span style="color: #A5D6FF">"7"</span><span style="color: #C9D1D9"> },</span></span>
<span class="line"><span style="color: #C9D1D9">        ],</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"undo"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"undo"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"redo"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"redo"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"content_cut"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"cut"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"content_copy"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"copy"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">      {</span></span>
<span class="line"><span style="color: #C9D1D9">        icon: </span><span style="color: #A5D6FF">"content_paste"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        command: </span><span style="color: #A5D6FF">"paste"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      },</span></span>
<span class="line"><span style="color: #C9D1D9">    ];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">html</span><span style="color: #A5D6FF">`</span></span>
<span class="line"><span style="color: #A5D6FF">      ${</span><span style="color: #C9D1D9">commands</span><span style="color: #A5D6FF">.</span><span style="color: #D2A8FF">map</span><span style="color: #A5D6FF">((</span><span style="color: #79C0FF">n</span><span style="color: #A5D6FF">) </span><span style="color: #FF7B72">=></span><span style="color: #A5D6FF"> </span><span style="color: #C9D1D9">{</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">html</span><span style="color: #A5D6FF">`</span></span>
<span class="line"><span style="color: #A5D6FF">          ${</span><span style="color: #C9D1D9">n</span><span style="color: #A5D6FF">.</span><span style="color: #C9D1D9">values</span></span>
<span class="line"><span style="color: #A5D6FF">            </span><span style="color: #FF7B72">?</span><span style="color: #A5D6FF"> </span><span style="color: #D2A8FF">html</span><span style="color: #A5D6FF">` &#x3C;select</span></span>
<span class="line"><span style="color: #A5D6FF">                id="${</span><span style="color: #C9D1D9">n</span><span style="color: #A5D6FF">.</span><span style="color: #C9D1D9">icon</span><span style="color: #A5D6FF">}"</span></span>
<span class="line"><span style="color: #A5D6FF">                @change=${</span><span style="color: #A5D6FF">(</span><span style="color: #79C0FF">e</span><span style="color: #FF7B72">:</span><span style="color: #A5D6FF"> </span><span style="color: #79C0FF">any</span><span style="color: #A5D6FF">) </span><span style="color: #FF7B72">=></span><span style="color: #A5D6FF"> </span><span style="color: #C9D1D9">{</span></span>
<span class="line"><span style="color: #C9D1D9">                  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">val</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> e.target.value;</span></span>
<span class="line"><span style="color: #C9D1D9">                  </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (val </span><span style="color: #FF7B72">===</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"--"</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">                    </span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"removeFormat"</span><span style="color: #C9D1D9">, </span><span style="color: #79C0FF">undefined</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">                  } </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (</span><span style="color: #FF7B72">typeof</span><span style="color: #C9D1D9"> n.command </span><span style="color: #FF7B72">===</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"string"</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">                    </span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">(n.command, val);</span></span>
<span class="line"><span style="color: #C9D1D9">                  }</span></span>
<span class="line"><span style="color: #C9D1D9">                }</span><span style="color: #A5D6FF">}</span></span>
<span class="line"><span style="color: #A5D6FF">              ></span></span>
<span class="line"><span style="color: #A5D6FF">                ${</span><span style="color: #C9D1D9">n</span><span style="color: #A5D6FF">.</span><span style="color: #C9D1D9">values</span><span style="color: #A5D6FF">.</span><span style="color: #D2A8FF">map</span><span style="color: #A5D6FF">(</span></span>
<span class="line"><span style="color: #A5D6FF">                  (</span><span style="color: #79C0FF">v</span><span style="color: #A5D6FF">) </span><span style="color: #FF7B72">=></span><span style="color: #A5D6FF"> </span><span style="color: #D2A8FF">html</span><span style="color: #A5D6FF">` &#x3C;option value=${</span><span style="color: #C9D1D9">v</span><span style="color: #A5D6FF">.</span><span style="color: #C9D1D9">value</span><span style="color: #A5D6FF">}>${</span><span style="color: #C9D1D9">v</span><span style="color: #A5D6FF">.</span><span style="color: #C9D1D9">name</span><span style="color: #A5D6FF">}&#x3C;/option>`</span></span>
<span class="line"><span style="color: #A5D6FF">                )</span><span style="color: #A5D6FF">}</span></span>
<span class="line"><span style="color: #A5D6FF">              &#x3C;/select>`</span></span>
<span class="line"><span style="color: #A5D6FF">            </span><span style="color: #FF7B72">:</span><span style="color: #A5D6FF"> </span><span style="color: #D2A8FF">html</span><span style="color: #A5D6FF">` &#x3C;mwc-icon-button</span></span>
<span class="line"><span style="color: #A5D6FF">                icon="${</span><span style="color: #C9D1D9">n</span><span style="color: #A5D6FF">.</span><span style="color: #C9D1D9">icon</span><span style="color: #A5D6FF">}"</span></span>
<span class="line"><span style="color: #A5D6FF">                class="${</span><span style="color: #C9D1D9">n</span><span style="color: #A5D6FF">.</span><span style="color: #C9D1D9">active</span><span style="color: #A5D6FF"> </span><span style="color: #FF7B72">?</span><span style="color: #A5D6FF"> </span><span style="color: #A5D6FF">"active"</span><span style="color: #A5D6FF"> </span><span style="color: #FF7B72">:</span><span style="color: #A5D6FF"> </span><span style="color: #A5D6FF">"inactive"}"</span></span>
<span class="line"><span style="color: #A5D6FF">                @click=${</span><span style="color: #A5D6FF">() </span><span style="color: #FF7B72">=></span><span style="color: #A5D6FF"> </span><span style="color: #C9D1D9">{</span></span>
<span class="line"><span style="color: #C9D1D9">                  </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (n.values) {</span></span>
<span class="line"><span style="color: #C9D1D9">                  } </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (</span><span style="color: #FF7B72">typeof</span><span style="color: #C9D1D9"> n.command </span><span style="color: #FF7B72">===</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">"string"</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">                    </span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">(n.command, n.command_value);</span></span>
<span class="line"><span style="color: #C9D1D9">                  } </span><span style="color: #FF7B72">else</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">                    n.</span><span style="color: #D2A8FF">command</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">                  }</span></span>
<span class="line"><span style="color: #C9D1D9">                }</span><span style="color: #A5D6FF">}</span></span>
<span class="line"><span style="color: #A5D6FF">              >&#x3C;/mwc-icon-button>`}</span></span>
<span class="line"><span style="color: #A5D6FF">        `</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">      }</span><span style="color: #A5D6FF">)</span><span style="color: #A5D6FF">}</span></span>
<span class="line"><span style="color: #A5D6FF">    `</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span></code></pre>
<p>This takes an array of objects that we can map to <code>mwc-icon-button</code> or <code>select</code> depending on the passed values. This will also set up the event listeners and execute the command for the given action.</p>
<p>Inside the <code>&#x3C;div id="toolbar"></code> tag add the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">${</span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">renderToolbar</span><span style="color: #C9D1D9">((</span><span style="color: #FFA657">command</span><span style="color: #C9D1D9">, </span><span style="color: #FFA657">val</span><span style="color: #C9D1D9">) </span><span style="color: #FF7B72">=></span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">    document.</span><span style="color: #D2A8FF">execCommand</span><span style="color: #C9D1D9">(command, </span><span style="color: #79C0FF">false</span><span style="color: #C9D1D9">, val);</span></span>
<span class="line"><span style="color: #C9D1D9">    console.</span><span style="color: #D2A8FF">log</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"command"</span><span style="color: #C9D1D9">, command, val);</span></span>
<span class="line"><span style="color: #C9D1D9">})}</span></span></code></pre>
<p>This will listen for the callback and fire the command on the document and log it to the console.</p>
<p>And finally at the bottom of the file add the following:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"></span>
<span class="line"><span style="color: #FF7B72">export</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">function</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">checkFonts</span><span style="color: #C9D1D9">()</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">[] {</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fontCheck</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">Set</span><span style="color: #C9D1D9">(</span></span>
<span class="line"><span style="color: #C9D1D9">    [</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #8B949E">// Windows 10</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Arial"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Arial Black"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Bahnschrift"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Calibri"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Cambria"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Cambria Math"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Candara"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Comic Sans MS"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Consolas"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Constantia"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Corbel"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Courier New"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Ebrima"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Franklin Gothic Medium"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Gabriola"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Gadugi"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Georgia"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"HoloLens MDL2 Assets"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Impact"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Ink Free"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Javanese Text"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Leelawadee UI"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Lucida Console"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Lucida Sans Unicode"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Malgun Gothic"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Marlett"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Microsoft Himalaya"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Microsoft JhengHei"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Microsoft New Tai Lue"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Microsoft PhagsPa"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Microsoft Sans Serif"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Microsoft Tai Le"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Microsoft YaHei"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Microsoft Yi Baiti"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"MingLiU-ExtB"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Mongolian Baiti"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"MS Gothic"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"MV Boli"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Myanmar Text"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Nirmala UI"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Palatino Linotype"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Segoe MDL2 Assets"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Segoe Print"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Segoe Script"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Segoe UI"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Segoe UI Historic"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Segoe UI Emoji"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Segoe UI Symbol"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"SimSun"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Sitka"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Sylfaen"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Symbol"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Tahoma"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Times New Roman"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Trebuchet MS"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Verdana"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Webdings"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Wingdings"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Yu Gothic"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #8B949E">// macOS</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"American Typewriter"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Andale Mono"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Arial"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Arial Black"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Arial Narrow"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Arial Rounded MT Bold"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Arial Unicode MS"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Avenir"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Avenir Next"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Avenir Next Condensed"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Baskerville"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Big Caslon"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Bodoni 72"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Bodoni 72 Oldstyle"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Bodoni 72 Smallcaps"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Bradley Hand"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Brush Script MT"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Chalkboard"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Chalkboard SE"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Chalkduster"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Charter"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Cochin"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Comic Sans MS"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Copperplate"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Courier"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Courier New"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Didot"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"DIN Alternate"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"DIN Condensed"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Futura"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Geneva"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Georgia"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Gill Sans"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Helvetica"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Helvetica Neue"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Herculanum"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Hoefler Text"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Impact"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Lucida Grande"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Luminari"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Marker Felt"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Menlo"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Microsoft Sans Serif"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Monaco"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Noteworthy"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Optima"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Palatino"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Papyrus"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Phosphate"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Rockwell"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Savoye LET"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"SignPainter"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Skia"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Snell Roundhand"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Tahoma"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Times"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Times New Roman"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Trattatello"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Trebuchet MS"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Verdana"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">      </span><span style="color: #A5D6FF">"Zapfino"</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">    ].</span><span style="color: #D2A8FF">sort</span><span style="color: #C9D1D9">()</span></span>
<span class="line"><span style="color: #C9D1D9">  );</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">fontAvailable</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #D2A8FF">Set</span><span style="color: #C9D1D9">&#x3C;</span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">>();</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #8B949E">// @ts-ignore</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">for</span><span style="color: #C9D1D9"> (</span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">font</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">of</span><span style="color: #C9D1D9"> fontCheck.</span><span style="color: #D2A8FF">values</span><span style="color: #C9D1D9">()) {</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #8B949E">// @ts-ignore</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (document.fonts.</span><span style="color: #D2A8FF">check</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">`12px "${</span><span style="color: #C9D1D9">font</span><span style="color: #A5D6FF">}"`</span><span style="color: #C9D1D9">)) {</span></span>
<span class="line"><span style="color: #C9D1D9">      fontAvailable.</span><span style="color: #D2A8FF">add</span><span style="color: #C9D1D9">(font);</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"><span style="color: #C9D1D9">  }</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #8B949E">// @ts-ignore</span></span>
<span class="line"><span style="color: #C9D1D9">  </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> fontAvailable.</span><span style="color: #D2A8FF">values</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span>
<span class="line"></span></code></pre>
<p>Following this great suggestion <a href="https://stackoverflow.com/a/62755574/7303311">here</a> the document checks to see all the avaliable fonts for the browser and given document.</p>
<h2 id="-5"><a aria-hidden="true" tabindex="-1" href="#-5"><span class="icon icon-link"></span></a>Running</h2>
<p>If everything went well when the command <code>npm run dev</code> is run the following should appear in the viewport:</p>
<p><img src="/attachments/rich-text_editor-finish.webp" alt=""></p>
<h2 id="-6"><a aria-hidden="true" tabindex="-1" href="#-6"><span class="icon icon-link"></span></a>Conclusion</h2>
<p>If you want to learn more about building with Lit you can read the docs <a href="https://lit.dev">here</a>.</p>
<p>The source for this example can be found <a href="https://github.com/rodydavis/lit-html-editor">here</a>.</p>
    </article>
  </main>
    </main>
    <footer class="astro-SZ7XMLTE">
  <div class="links astro-AUSHCPD5">
  <a class="social-icon astro-AUSHCPD5" href="https://github.com/rodydavis" target="_blank" rel="noopener">
            <img src="/social/github.svg" alt="github" class="astro-AUSHCPD5">
          </a><a class="social-icon astro-AUSHCPD5" href="https://twitter.com/rodydavis" target="_blank" rel="noopener">
            <img src="/social/twitter.svg" alt="twitter" class="astro-AUSHCPD5">
          </a><a class="social-icon astro-AUSHCPD5" href="https://facebook.com/rodydavisjr" target="_blank" rel="noopener">
            <img src="/social/facebook.svg" alt="facebook" class="astro-AUSHCPD5">
          </a><a class="social-icon astro-AUSHCPD5" href="https://instagram.com/rodydavisjr" target="_blank" rel="noopener">
            <img src="/social/instagram.svg" alt="instagram" class="astro-AUSHCPD5">
          </a><a class="social-icon astro-AUSHCPD5" href="https://youtube.com/rodydavis" target="_blank" rel="noopener">
            <img src="/social/youtube.svg" alt="youtube" class="astro-AUSHCPD5">
          </a><a class="social-icon astro-AUSHCPD5" href="https://tiktok.com/@rodydavisjr" target="_blank" rel="noopener">
            <img src="/social/tiktok.svg" alt="tiktok" class="astro-AUSHCPD5">
          </a><a class="social-icon astro-AUSHCPD5" href="https://linkedin.com/in/rodydavis" target="_blank" rel="noopener">
            <img src="/social/linkedin.svg" alt="linkedin" class="astro-AUSHCPD5">
          </a>
</div>

  <div class="copyright astro-SZ7XMLTE">
    &copy; 2023
    Rody Davis. All rights reserved.
  </div>
</footer>
  </body></html>