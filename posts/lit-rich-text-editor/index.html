<!DOCTYPE html><html domain=rodydavis.com ga-id=G-JQNPVBL9DR lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href="/img/favicon/favicon-32x32.png?hash=3df5885280" rel=icon type=image/png><meta content=#f9c412 name=theme-color><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name=robots><title>Building a Rich Text Editor with Lit</title><meta content="Building a Rich Text Editor with Lit" property=og:title><meta content="In this article I will go over how to set up a Lit web component and use it to create a rich text editor. TLDR The final source here and an..." name=description><meta content="In this article I will go over how to set up a Lit web component and use it to create a rich text editor. TLDR The final source here and an..." property=og:description><meta content=summary_large_image name=twitter:card><meta content=@rodydavis name=twitter:site><meta content=@rodydavis name=twitter:creator><meta content=https://rodydavis.com/img/remote/17VahL.png property=og:image><link href=https://rodydavis.com/posts/lit-rich-text-editor/ rel=canonical><meta content=no-referrer-when-downgrade name=referrer><link href=/feed/feed.xml rel=alternate type=application/atom+xml title="Rody Davis"><link href=/ rel=preconnect crossorigin=""><script src="/js/min.js?hash=c372ec6a84" async defer></script><script src="/js/cached.js?hash=9030142fbb" async defer></script><script csp-hash="">if (/Mac OS X/.test(navigator.userAgent)) 
        document
          .documentElement
          .classList
          .add('apple')</script><script type=text/javascript>function getCode(repo, path, branch) {
        const url = `https://raw.githubusercontent.com/rodydavis/${repo}/${branch}/${path}`;
        return fetch(url).then((res) => res.text());
      }
      async function addFiles(tag, path, branch = "main") {
          const ide = document.querySelector('playground-ide');
          const ui = await getCode(tag, 'index.html', branch);
          const code = await getCode(tag, `src/${path}`, branch);
          const name = path.split('.ts').join('.js');
          const config = { files: {} };
          config.files['index.html'] = { content:  ui.split(`/src/${path}`).join(`./${name}`) };
          config.files[path] = { content: code };
          ide.config = config;
      }</script><style>playground-id {
        height: 500px;
        width: 100%;
      }</style><script src=https://unpkg.com/playground-elements@0.10.0/playground-ide.js?module type=module></script><style>@import url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css);:root{--primary: #f9c412;--on-primary: #181818;--secondary: #e7bf60;--background: #181818;--on-background: #eee}.tags{display:wrap}.click{cursor:pointer;text-decoration:none}.chip{display:inline-block;padding:0 15px;border-radius:25px;margin:4px;background-color:var(--primary);color:var(--on-primary)}main img{content-visibility:auto}article *{scroll-margin-top:50px}header nav{z-index:1;position:fixed;top:0;left:0;width:100vw;padding:.375em 1.5em;background:rgba(255,255,255,.9);font-weight:200;text-align:right}:root{--main-width: calc(100vw - 3em)}@media (min-width:37.5em){:root{--main-width: calc(37.5em - 3em)}}dialog,share-widget{position:fixed;opacity:.9}share-widget{right:20px;bottom:20px}share-widget div{width:30px;height:30px;background-image:url(/img/share.svg);background-repeat:no-repeat;background-position:center}.apple share-widget div{background-image:url(/img/share-apple.svg)}body,share-widget button{margin:0}share-widget button:active{transform:scale(1.2)}dialog{background-color:#8dff80;z-index:1000}header aside{font-style:italic}#nav{z-index:2;position:relative}#reading-progress{z-index:1;background-color:var(--primary);width:100vw;position:absolute;left:0;top:0;bottom:0;transform:translate(-100vw,0);will-change:transform;pointer-events:none}#posts li{margin-bottom:.5em}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:100;src:url(/fonts/Inter-Thin.woff2) format("woff2"),url(/fonts/Inter-Thin.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:100;src:url(/fonts/Inter-ThinItalic.woff2) format("woff2"),url(/fonts/Inter-ThinItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:200;src:url(/fonts/Inter-ExtraLight.woff2) format("woff2"),url(/fonts/Inter-ExtraLight.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:200;src:url(/fonts/Inter-ExtraLightItalic.woff2) format("woff2"),url(/fonts/Inter-ExtraLightItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:300;src:url(/fonts/Inter-Light.woff2) format("woff2"),url(/fonts/Inter-Light.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:300;src:url(/fonts/Inter-LightItalic.woff2) format("woff2"),url(/fonts/Inter-LightItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:400;src:url(/fonts/Inter-Regular.woff2) format("woff2"),url(/fonts/Inter-Regular.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:400;src:url(/fonts/Inter-Italic.woff2) format("woff2"),url(/fonts/Inter-Italic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:500;src:url(/fonts/Inter-Medium.woff2) format("woff2"),url(/fonts/Inter-Medium.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:500;src:url(/fonts/Inter-MediumItalic.woff2) format("woff2"),url(/fonts/Inter-MediumItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:600;src:url(/fonts/Inter-SemiBold.woff2) format("woff2"),url(/fonts/Inter-SemiBold.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:600;src:url(/fonts/Inter-SemiBoldItalic.woff2) format("woff2"),url(/fonts/Inter-SemiBoldItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:700;src:url(/fonts/Inter-Bold.woff2) format("woff2"),url(/fonts/Inter-Bold.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:700;src:url(/fonts/Inter-BoldItalic.woff2) format("woff2"),url(/fonts/Inter-BoldItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:800;src:url(/fonts/Inter-ExtraBold.woff2) format("woff2"),url(/fonts/Inter-ExtraBold.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:800;src:url(/fonts/Inter-ExtraBoldItalic.woff2) format("woff2"),url(/fonts/Inter-ExtraBoldItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:900;src:url(/fonts/Inter-Black.woff2) format("woff2"),url(/fonts/Inter-Black.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:900;src:url(/fonts/Inter-BlackItalic.woff2) format("woff2"),url(/fonts/Inter-BlackItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI var alt";font-weight:100 900;font-style:normal;font-named-instance:"Regular";src:url(/fonts/Inter-roman.var.woff2) format("woff2")}@font-face{font-display:optional;font-family:"Inter UI var alt";font-weight:100 900;font-style:italic;font-named-instance:"Italic";src:url(/fonts/Inter-italic.var.woff2) format("woff2")}html{line-height:1.15;-webkit-text-size-adjust:100%;font-family:Inter UI,sans-serif;--font-family: Inter UI, sans-serif}h1{font-size:3em;line-height:1.25;margin:.67em 0 .5em;font-size:2.074rem}a{background-color:transparent;color:#f9c412;text-decoration:none;color:var(--primary)}b,strong{font-weight:700}img{border-style:none;max-width:100%;height:auto;margin:0 auto}button,input,select{font-family:inherit;font-size:100%;line-height:1.15}input,select{margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}template{display:none}h2{font-size:2.5em;line-height:1.2;margin-bottom:.6em}h3{font-size:2em;line-height:1.125;margin-bottom:.75em;font-size:1.4rem}h4{font-size:1.5em;margin-bottom:1em}h5{font-size:1.25em;margin-bottom:1.2em}h4,h5,h6{line-height:1.5em}body,h6,ol,p,pre,ul{font-size:1em}h6,ol,p,pre,ul{margin-bottom:1.5em}h1,h2{line-height:2.4rem;margin-bottom:1.36rem}h2{font-size:1.728rem}h3,h4,h5,h6{line-height:1.6rem}h3,h4{margin-bottom:1.36rem}h4{font-size:1.2rem}h5,h6{font-size:1rem}body,ol,p,pre,ul{font-size:1rem;line-height:1.6}h5,h6,ol,p,pre,ul{margin-bottom:1.36rem}@media (min-width:600px){h1{font-size:4.3978rem;line-height:4.4rem}h2{font-size:3.1097rem;line-height:3.52rem}h3{font-size:2.1989rem;line-height:2.64rem}h4{font-size:1.5554rem;line-height:1.76rem}h5,h6{font-size:1.1rem;line-height:1.76rem}body,ol,p,pre,ul{font-size:1.1rem;line-height:1.6}h1,h2,h3,h4,h5,h6,ol,p,pre,ul{margin-bottom:1.496rem}}@media (min-width:1200px){h1{font-size:6.0756rem;line-height:6.72rem}h2{font-size:4.05rem;line-height:4.8rem}h3{font-size:2.7rem;line-height:2.88rem}h4{font-size:1.8rem;line-height:1.92rem}h5,h6{font-size:1.2rem;line-height:1.92rem}body,ol,p,pre,ul{font-size:1.2rem;line-height:1.6}h1,h2,h3,h4,h5,h6,ol,p,pre,ul{margin-bottom:1.632rem}}code,pre{overflow-x:auto}pre{font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace}pre code:not([class]){padding:1.5em;overflow-x:scroll}code{border-radius:.3em;color:#e2777a;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:90%;background:#2d2d2d;padding:0}h1,h2,h3,h4,h5,h6{font-family:var(--font-family)}h2,h4,h6{font-style:italic}a:hover{text-decoration:underline}dt{font-weight:600;padding-top:.75em;padding-left:.75em}@supports (font-variation-settings:normal){html{font-family:Inter UI var alt,sans-serif;--font-family: Inter UI var alt, sans-serif}}button,input,select{border-radius:.3em;max-width:100%}input{padding:.75em}input,select{margin-bottom:1.5em;display:inline}button,input[type=reset]{background:#f2f2f2;color:#191919;cursor:pointer;display:inline-block;padding:.75em 1.5em;text-align:center;margin:0 .75em 1.5em 0}button:hover,input[type=reset]:hover{background:#d9d9d9;color:var(--surface)}button:not([disabled]){background:#f9c412;color:#181818;background:var(--primary)}button:not([disabled]):hover{background:#ba9005;color:#000;background:var(--secondary)}input[type=color],input[type=datetime],input[type=file],input[type=text],input[type=time],input[type=url],select{border:1px solid #595959;padding:.75em}*{border:0;box-sizing:border-box}body,header nav a{font-family:var(--font-family)}body{background:var(--background);color:var(--on-background)}header{padding:4.5em 1.5em 3em;width:37.5em;margin:0 auto;text-align:center;max-width:100%;display:flex;align-items:center;flex-direction:column}header p,ol,ul{margin-top:0}header nav h1{float:left;font-size:inherit;line-height:inherit;margin:0;text-align:left}header nav a{font-weight:700;text-decoration:none;color:#181818;margin-left:1.5em}header nav a:first-of-type{margin-left:auto}header nav a:last-of-type{margin-right:1.5em}main{max-width:70rem;margin:0 auto;border-top:.5px solid #ccc}footer{background:var(--background);color:var(--on-background);text-align:center;padding:2em 2em 100px}footer>*{margin:.6em}footer nav a img{vertical-align:middle}footer nav,footer p{font-size:90%}article{max-width:100%;padding:1.5em;width:37.5em;margin:0 auto}li ol,li ul{margin-bottom:0}blockquote{border-left:1px solid #f9c412;padding:0 1.5em;margin:1.5em 0 1.5em 1.5em;border-left:1px solid var(--primary)}blockquote footer{background:0 0;display:block;color:#ccc;padding:.75em 0;font-size:90%;text-align:start}code[class*=language-],pre[class*=language-]{color:#ccc;background:0 0;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;background:#2d2d2d}.token.comment,.token.doctype{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.tag{color:#e2777a}.token.boolean,.token.function{color:#f08d49}.token.class-name,.token.property{color:#f8c555}.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.string{color:#7ec699}.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.inserted{color:green}</style><header><nav><div id=nav><h1><a href=/ title=Homepage>Rody Davis</a></h1><a href=/about/ >About</a> <a href=/talks/ >Talks</a> <a href=/apps/ >Apps</a></div><div id=reading-progress aria-hidden=true></div></nav><h1>Building a Rich Text Editor with Lit</h1><aside>8 min read.</aside><dialog id=message></dialog><noscript><img src="/.netlify/functions/ga?v=1&_v=j83&t=pageview&dr=https%3A%2F%2Fno-script.com&_s=1&dh=rodydavis.com&dp=%2Fposts%2Flit-rich-text-editor%2F&ul=en-us&de=UTF-8&dt=Building%20a%20Rich%20Text%20Editor%20with%20Lit&tid=G-JQNPVBL9DR" style=display:none width=1 alt="" height=1></noscript></header><main><article><div class=tags><a href=/tags/editor class=click><div class=chip>editor</div></a><a href=/tags/web class=click><div class=chip>web</div></a><a href=/tags/lit class=click><div class=chip>lit</div></a><a href=/tags/wysiwyg class=click><div class=chip>wysiwyg</div></a><a href=/tags/playground class=click><div class=chip>playground</div></a></div><p>In this article I will go over how to set up a <a href=https://lit.dev>Lit</a> web component and use it to create a rich text editor.<p><strong>TLDR</strong> The final source <a href=https://github.com/rodydavis/lit-html-editor>here</a> and an online <a href=https://rodydavis.github.io/lit-html-editor/ >demo</a>.<p><playground-ide editable-file-system="" line-numbers="" resizable=""></playground-ide></p><script>addFiles('lit-html-editor', 'rich-text-editor.ts', 'master')</script><h2 id=prerequisites>Prerequisites <a href=#prerequisites class=direct-link>#</a></h2><ul><li>Vscode<li>Node >= 12<li>Typescript</ul><h2 id=getting-started>Getting Started <a href=#getting-started class=direct-link>#</a></h2><p>We can start off by navigating in terminal to the location of the project and run the following:<pre class=language-bash><code class=language-bash><span class="token function">npm</span> init @vitejs/app --template lit-element-ts</code></pre><p>Then enter a project name <code>lit-rich-text-editor</code> and now open the project in vscode and install the dependencies:<pre class=language-bash><code class=language-bash><span class="token class-name builtin">cd</span> lit-rich-text-editor<br><span class="token function">npm</span> i @material/mwc-icon-button<br><span class="token function">npm</span> i -D @types/node<br>code <span class="token class-name builtin">.</span></code></pre><p>Update the <code>vite.config.ts</code> with the following:<pre class=language-js><code class=language-js><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"vite"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> resolve <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"path"</span><span class="token punctuation">;</span><br><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  base<span class="token operator">:</span> <span class="token string">'/lit-rich-text-editor/'</span><span class="token punctuation">,</span><br>  build<span class="token operator">:</span> <span class="token punctuation">{</span><br>    lib<span class="token operator">:</span> <span class="token punctuation">{</span><br>      entry<span class="token operator">:</span> <span class="token string">"src/lit-rich-text-editor.ts"</span><span class="token punctuation">,</span><br>      formats<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"es"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span><br>      input<span class="token operator">:</span> <span class="token punctuation">{</span><br>        main<span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"index.html"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></code></pre><h2 id=template>Template <a href=#template class=direct-link>#</a></h2><p>Open up the <code>index.html</code> and update it with the following:<pre class=language-html><code class=language-html><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>icon<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image/svg+xml<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/src/favicon.svg<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span><br>      <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://fonts.googleapis.com/css?family=Material+Icons&display=block<span class="token punctuation">"</span></span><br>      <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><br>    <span class="token punctuation">/></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Lit Rich Text Editor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/src/lit-rich-text-editor.ts<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><br>      <span class="token selector">body</span> <span class="token punctuation">{</span><br>        <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br>        <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>      <span class="token selector">lit-rich-text-editor</span> <span class="token punctuation">{</span><br>        <span class="token property">--editor-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span><br>        <span class="token property">--editor-height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lit-rich-text-editor</span><span class="token punctuation">></span></span><br>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>Headline 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>This is a paragraph.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><br>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token language-css style"><span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>255<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><br>            <span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#ffffff<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Styled Text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><br>          <span class="token punctuation">></span></span><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br><br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><br>          Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do<br>          eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad<br>          minim veniam, quis nostrud exercitation ullamco laboris nisi ut<br>          aliquip ex ea commodo consequat. Duis aute irure dolor in<br>          reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla<br>          pariatur. Excepteur sint occaecat cupidatat non proident, sunt in<br>          culpa qui officia deserunt mollit anim id est laborum.<br>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><br>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lit-rich-text-editor</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><br></code></pre><p>The important things to take away are the styles added to remove the body padding and send size <a href=https://developer.mozilla.org/en-US/docs/Web/CSS/--*>CSS Custom Properties</a> to the editor to take up the full viewport.<p>Inside the <code>lit-rich-text-editor</code> tags there is a <a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template><code>template</code></a> passed as a slot to provide html that will not be rendered but can be accessed.<p>There is also an import for the <a href=https://fonts.google.com/icons>Material Icons</a> so it can be used in the editor later.<h2 id=editor>Editor <a href=#editor class=direct-link>#</a></h2><p>The next thing to create is the editor itself. Open up <code>src/lit-rich-text-editor.ts</code> and update it with the following:<pre class=language-js><code class=language-js><span class="token keyword">import</span> <span class="token punctuation">{</span> LitElement<span class="token punctuation">,</span> html<span class="token punctuation">,</span> customElement<span class="token punctuation">,</span> css<span class="token punctuation">,</span> state <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lit-element"</span><span class="token punctuation">;</span><br><br><span class="token keyword">import</span> <span class="token string">"@material/mwc-icon-button"</span><span class="token punctuation">;</span><br><br>@<span class="token function">customElement</span><span class="token punctuation">(</span><span class="token string">"lit-rich-text-editor"</span><span class="token punctuation">)</span><br><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LitRichTextEditor</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span><br>  @<span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> content<span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><br>  @<span class="token function">state</span><span class="token punctuation">(</span><span class="token punctuation">)</span> root<span class="token operator">:</span> Element <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br><br>  <span class="token keyword">static</span> styles <span class="token operator">=</span> css<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string"><br>    :host {<br>      --editor-width: 600px;<br>      --editor-height: 600px;<br>      --editor-background: #f1f1f1;<br>      --editor-toolbar-height: 33px;<br>      --editor-toolbar-background: black;<br>      --editor-toolbar-on-background: white;<br>      --editor-toolbar-on-active-background: #a4a4a4;<br>    }<br>    main {<br>      width: var(--editor-width);<br>      height: var(--editor-height);<br>      display: grid;<br>      grid-template-areas:<br>        "toolbar toolbar"<br>        "editor editor";<br>      grid-template-rows: var(--editor-toolbar-height) auto;<br>      grid-template-columns: auto auto;<br>    }<br>    #editor-actions {<br>      grid-area: toolbar;<br>      width: var(--editor-width);<br>      height: var(--editor-toolbar-height);<br>      background-color: var(--editor-toolbar-background);<br>      color: var(--editor-toolbar-on-background);<br>      overscroll-behavior: contain;<br>      overflow-y: auto;<br>      -ms-overflow-style: none;<br>      scrollbar-width: none;<br>    }<br>    #editor-actions::-webkit-scrollbar {<br>      display: none;<br>    }<br>    #editor {<br>      width: var(--editor-width);<br>      grid-area: editor;<br>      background-color: var(--editor-background);<br>    }<br>    #toolbar {<br>      width: 1090px;<br>      height: var(--editor-toolbar-height);<br>    }<br>    [contenteditable] {<br>      outline: 0px solid transparent;<br>    }<br>    #toolbar > mwc-icon-button {<br>      color: var(--editor-toolbar-on-background);<br>      --mdc-icon-size: 20px;<br>      --mdc-icon-button-size: 30px;<br>      cursor: pointer;<br>    }<br>    #toolbar > .active {<br>      color: var(--editor-toolbar-on-active-background);<br>    }<br>    select {<br>      margin-top: 5px;<br>      height: calc(var(--editor-toolbar-height) - 10px);<br>    }<br>    input[type="color"] {<br>      height: calc(var(--editor-toolbar-height) - 15px);<br>      -webkit-appearance: none;<br>      border: none;<br>      width: 22px;<br>    }<br>    input[type="color"]::-webkit-color-swatch-wrapper {<br>      padding: 0;<br>    }<br>    input[type="color"]::-webkit-color-swatch {<br>      border: none;<br>    }<br>  </span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span><br><br>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">&lt;main><br>      &lt;input id="bg" type="color" style="display:none" /><br>      &lt;input id="fg" type="color" style="display:none" /><br>      &lt;div id="editor-actions"><br>        &lt;div id="toolbar"><br>        &lt;/div><br>      &lt;/div><br>      &lt;div id="editor"></span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&lt;/div><br>    &lt;/main> </span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">async</span> <span class="token function">firstUpdated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentElement<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"lit-rich-text-editor template"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>content <span class="token operator">=</span> elem<span class="token operator">?.</span>innerHTML <span class="token operator">??</span> <span class="token string">""</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DOMParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> doc <span class="token operator">=</span> parser<span class="token punctuation">.</span><span class="token function">parseFromString</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">,</span> <span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span><span class="token string">"defaultParagraphSeparator"</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">"br"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"selectionchange"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">requestUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> root <span class="token operator">=</span> doc<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"body"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    root<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"contenteditable"</span><span class="token punctuation">,</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> root<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br><span class="token punctuation">}</span><br></code></pre><p>With everything updated run <code>npm run dev</code> and the following should appear in the browser:</p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/rich-text/editor-start-1920w.avif 1920w, /img/rich-text/editor-start-1280w.avif 1280w, /img/rich-text/editor-start-640w.avif 640w, /img/rich-text/editor-start-320w.avif 320w" type=image/avif><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/rich-text/editor-start-1920w.webp 1920w, /img/rich-text/editor-start-1280w.webp 1280w, /img/rich-text/editor-start-640w.webp 640w, /img/rich-text/editor-start-320w.webp 320w" type=image/webp><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/rich-text/editor-start-1920w.jpg 1920w, /img/rich-text/editor-start-1280w.jpg 1280w, /img/rich-text/editor-start-640w.jpg 640w, /img/rich-text/editor-start-320w.jpg 320w" type=image/jpeg><img src=/img/rich-text/editor-start-1920w.jpg style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 945 428'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAFCAYAAABxeg0vAAAACXBIWXMAAAsTAAALEwEAmpwYAAAALklEQVQI12PYtWvXf1Iww58/f/6TghnevXv3nxTM8PHjx/8fPnz4D6KJwSRrAADYqd6XyhQpXQAAAABJRU5ErkJggg=='%3E%3C/image%3E%3C/svg%3E&#34;)" width=100% decoding=async loading=lazy></picture><p>Nothing special is happening yet, but the template is being read and passed into the element, parsed and setting the <a href=https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/contenteditable><code>contenteditable</code></a> attribute to <code>true</code>.<p>This is a way to access the slots and use the nodes to hold data that are not used for rendering. Doing it this way allows for a transformation of the HTML source into a format that can be used.<h2 id=toolbar>Toolbar <a href=#toolbar class=direct-link>#</a></h2><p>At the bottom of the class before the last <code>}</code> add the following:<pre class=language-js><code class=language-js><span class="token function">renderToolbar</span><span class="token punctuation">(</span><span class="token function function-variable">command</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">c<span class="token operator">:</span> string<span class="token punctuation">,</span> val<span class="token operator">:</span> string <span class="token operator">|</span> <span class="token keyword">undefined</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// TODO: Selection does not work on Safari iOS</span><br>    <span class="token keyword">const</span> selection <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token operator">?.</span>getSelection<br>      <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">getSelection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>      <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> tags<span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>selection<span class="token operator">?.</span>type <span class="token operator">===</span> <span class="token string">"Range"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token comment">// @ts-ignore</span><br>      <span class="token keyword">let</span> parentNode <span class="token operator">=</span> selection<span class="token operator">?.</span>baseNode<span class="token punctuation">;</span><br>      <span class="token keyword">if</span> <span class="token punctuation">(</span>parentNode<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">const</span> <span class="token function function-variable">checkNode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>          <span class="token keyword">const</span> parentTagName <span class="token operator">=</span> parentNode<span class="token operator">?.</span>tagName<span class="token operator">?.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token keyword">if</span> <span class="token punctuation">(</span>parentTagName<span class="token punctuation">)</span> tags<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>parentTagName<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">;</span><br>        <span class="token keyword">while</span> <span class="token punctuation">(</span>parentNode <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          <span class="token function">checkNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>          parentNode <span class="token operator">=</span> parentNode<span class="token operator">?.</span>parentNode<span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token keyword">const</span> commands<span class="token operator">:</span> <span class="token punctuation">{</span><br>      icon<span class="token operator">:</span> string<span class="token punctuation">;</span><br>      command<span class="token operator">:</span> string <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      active<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">;</span><br>      type<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span><br>      values<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">{</span> value<span class="token operator">:</span> string<span class="token punctuation">;</span> name<span class="token operator">:</span> string<span class="token punctuation">;</span> font<span class="token operator">?</span><span class="token operator">:</span> boolean <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>      command_value<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_clear"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"removeFormat"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_bold"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"bold"</span><span class="token punctuation">,</span><br>        active<span class="token operator">:</span> tags<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_italic"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"italic"</span><span class="token punctuation">,</span><br>        active<span class="token operator">:</span> tags<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"i"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_underlined"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"underline"</span><span class="token punctuation">,</span><br>        active<span class="token operator">:</span> tags<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"u"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_align_left"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"justifyleft"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_align_center"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"justifycenter"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_align_right"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"justifyright"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_list_numbered"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"insertorderedlist"</span><span class="token punctuation">,</span><br>        active<span class="token operator">:</span> tags<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"ol"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_list_bulleted"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"insertunorderedlist"</span><span class="token punctuation">,</span><br>        active<span class="token operator">:</span> tags<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">"ul"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_quote"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"formatblock"</span><span class="token punctuation">,</span><br>        command_value<span class="token operator">:</span> <span class="token string">"blockquote"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_indent_decrease"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"outdent"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_indent_increase"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"indent"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"add_link"</span><span class="token punctuation">,</span><br>        <span class="token function function-variable">command</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>          <span class="token keyword">const</span> newLink <span class="token operator">=</span> <span class="token function">prompt</span><span class="token punctuation">(</span><span class="token string">"Write the URL here"</span><span class="token punctuation">,</span> <span class="token string">"http://"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token keyword">if</span> <span class="token punctuation">(</span>newLink <span class="token operator">&&</span> newLink <span class="token operator">!=</span> <span class="token string">""</span> <span class="token operator">&&</span> newLink <span class="token operator">!=</span> <span class="token string">"http://"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token function">command</span><span class="token punctuation">(</span><span class="token string">"createlink"</span><span class="token punctuation">,</span> newLink<span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> icon<span class="token operator">:</span> <span class="token string">"link_off"</span><span class="token punctuation">,</span> command<span class="token operator">:</span> <span class="token string">"unlink"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_color_text"</span><span class="token punctuation">,</span><br>        <span class="token function function-variable">command</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>          <span class="token keyword">const</span> input <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><br>            <span class="token string">"#fg"</span><br>          <span class="token punctuation">)</span><span class="token operator">!</span> <span class="token keyword">as</span> HTMLInputElement<span class="token punctuation">;</span><br>          input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>            <span class="token keyword">const</span> val <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span><br>            <span class="token function">command</span><span class="token punctuation">(</span><span class="token string">"forecolor"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>          input<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        type<span class="token operator">:</span> <span class="token string">"color"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"border_color"</span><span class="token punctuation">,</span><br>        <span class="token function function-variable">command</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>          <span class="token keyword">const</span> input <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>shadowRoot<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><br>            <span class="token string">"#bg"</span><br>          <span class="token punctuation">)</span><span class="token operator">!</span> <span class="token keyword">as</span> HTMLInputElement<span class="token punctuation">;</span><br>          input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"input"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>            <span class="token keyword">const</span> val <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span><br>            <span class="token function">command</span><span class="token punctuation">(</span><span class="token string">"backcolor"</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span><br>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>          input<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        type<span class="token operator">:</span> <span class="token string">"color"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"title"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"formatblock"</span><span class="token punctuation">,</span><br>        values<span class="token operator">:</span> <span class="token punctuation">[</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Normal Text"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"--"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Heading 1"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"h1"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Heading 2"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"h2"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Heading 3"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"h3"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Heading 4"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"h4"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Heading 5"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"h5"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Heading 6"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"h6"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Paragraph"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"p"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Pre-Formatted"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"pre"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"text_format"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"fontname"</span><span class="token punctuation">,</span><br>        values<span class="token operator">:</span> <span class="token punctuation">[</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Font Name"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"--"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token operator">...</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token function">checkFonts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">f</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span><br>            name<span class="token operator">:</span> f<span class="token punctuation">,</span><br>            value<span class="token operator">:</span> f<span class="token punctuation">,</span><br>            font<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"format_size"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"fontsize"</span><span class="token punctuation">,</span><br>        values<span class="token operator">:</span> <span class="token punctuation">[</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Font Size"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"--"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Very Small"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"1"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Small"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"2"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Normal"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"3"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Medium Large"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"4"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Large"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"5"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Very Large"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"6"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>          <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"Maximum"</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">"7"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>        <span class="token punctuation">]</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"undo"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"undo"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"redo"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"redo"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"content_cut"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"cut"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"content_copy"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"copy"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        icon<span class="token operator">:</span> <span class="token string">"content_paste"</span><span class="token punctuation">,</span><br>        command<span class="token operator">:</span> <span class="token string">"paste"</span><span class="token punctuation">,</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string"><br>      </span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>commands<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>        <span class="token keyword">return</span> html`<br>          $<span class="token punctuation">{</span>n<span class="token punctuation">.</span>values<br>            <span class="token operator">?</span> html` <span class="token operator">&lt;</span>select<br>                id<span class="token operator">=</span><span class="token string">"${n.icon}"</span><br>                @change<span class="token operator">=</span>$<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>                  <span class="token keyword">const</span> val <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value<span class="token punctuation">;</span><br>                  <span class="token keyword">if</span> <span class="token punctuation">(</span>val <span class="token operator">===</span> <span class="token string">"--"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">command</span><span class="token punctuation">(</span><span class="token string">"removeFormat"</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> n<span class="token punctuation">.</span>command <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">command</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>command<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span><br>                  <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string"><br>              ><br>                </span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>n<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><br>                  <span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=></span> html<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string"> &lt;option value=</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>v<span class="token punctuation">.</span>value<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">></span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>v<span class="token punctuation">.</span>name<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">&lt;/option></span><span class="token string template-punctuation">`</span></span><br>                <span class="token punctuation">)</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string"><br>              &lt;/select></span><span class="token string template-punctuation">`</span></span><br>            <span class="token operator">:</span> html<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string"> &lt;mwc-icon-button<br>                icon="</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>n<span class="token punctuation">.</span>icon<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">"<br>                class="</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>n<span class="token punctuation">.</span>active <span class="token operator">?</span> <span class="token string">"active"</span> <span class="token operator">:</span> <span class="token string">"inactive"</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">"<br>                @click=</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>                  <span class="token keyword">if</span> <span class="token punctuation">(</span>n<span class="token punctuation">.</span>values<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> n<span class="token punctuation">.</span>command <span class="token operator">===</span> <span class="token string">"string"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>                    <span class="token function">command</span><span class="token punctuation">(</span>n<span class="token punctuation">.</span>command<span class="token punctuation">,</span> n<span class="token punctuation">.</span>command_value<span class="token punctuation">)</span><span class="token punctuation">;</span><br>                  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>                    n<span class="token punctuation">.</span><span class="token function">command</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>                  <span class="token punctuation">}</span><br>                <span class="token punctuation">}</span><span class="token punctuation interpolation-punctuation">}</span></span><span class="token string"><br>              >&lt;/mwc-icon-button></span><span class="token string template-punctuation">`</span></span><span class="token punctuation">}</span><br>        <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">;<br>      })}<br>    </span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre><p>This takes an array of objects that we can map to <code>mwc-icon-button</code> or <code>select</code> depending on the passed values. This will also set up the event listeners and execute the command for the given action.<p>Inside the <code>&lt;div id="toolbar"></code> tag add the following:<pre class=language-js><code class=language-js>$<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderToolbar</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">command<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    document<span class="token punctuation">.</span><span class="token function">execCommand</span><span class="token punctuation">(</span>command<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"command"</span><span class="token punctuation">,</span> command<span class="token punctuation">,</span> val<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></code></pre><p>This will listen for the callback and fire the command on the document and log it to the console.<p>And finally at the bottom of the file add the following:<pre class=language-js><code class=language-js><br><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">checkFonts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> string<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> fontCheck <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span><br>    <span class="token punctuation">[</span><br>      <span class="token comment">// Windows 10</span><br>      <span class="token string">"Arial"</span><span class="token punctuation">,</span><br>      <span class="token string">"Arial Black"</span><span class="token punctuation">,</span><br>      <span class="token string">"Bahnschrift"</span><span class="token punctuation">,</span><br>      <span class="token string">"Calibri"</span><span class="token punctuation">,</span><br>      <span class="token string">"Cambria"</span><span class="token punctuation">,</span><br>      <span class="token string">"Cambria Math"</span><span class="token punctuation">,</span><br>      <span class="token string">"Candara"</span><span class="token punctuation">,</span><br>      <span class="token string">"Comic Sans MS"</span><span class="token punctuation">,</span><br>      <span class="token string">"Consolas"</span><span class="token punctuation">,</span><br>      <span class="token string">"Constantia"</span><span class="token punctuation">,</span><br>      <span class="token string">"Corbel"</span><span class="token punctuation">,</span><br>      <span class="token string">"Courier New"</span><span class="token punctuation">,</span><br>      <span class="token string">"Ebrima"</span><span class="token punctuation">,</span><br>      <span class="token string">"Franklin Gothic Medium"</span><span class="token punctuation">,</span><br>      <span class="token string">"Gabriola"</span><span class="token punctuation">,</span><br>      <span class="token string">"Gadugi"</span><span class="token punctuation">,</span><br>      <span class="token string">"Georgia"</span><span class="token punctuation">,</span><br>      <span class="token string">"HoloLens MDL2 Assets"</span><span class="token punctuation">,</span><br>      <span class="token string">"Impact"</span><span class="token punctuation">,</span><br>      <span class="token string">"Ink Free"</span><span class="token punctuation">,</span><br>      <span class="token string">"Javanese Text"</span><span class="token punctuation">,</span><br>      <span class="token string">"Leelawadee UI"</span><span class="token punctuation">,</span><br>      <span class="token string">"Lucida Console"</span><span class="token punctuation">,</span><br>      <span class="token string">"Lucida Sans Unicode"</span><span class="token punctuation">,</span><br>      <span class="token string">"Malgun Gothic"</span><span class="token punctuation">,</span><br>      <span class="token string">"Marlett"</span><span class="token punctuation">,</span><br>      <span class="token string">"Microsoft Himalaya"</span><span class="token punctuation">,</span><br>      <span class="token string">"Microsoft JhengHei"</span><span class="token punctuation">,</span><br>      <span class="token string">"Microsoft New Tai Lue"</span><span class="token punctuation">,</span><br>      <span class="token string">"Microsoft PhagsPa"</span><span class="token punctuation">,</span><br>      <span class="token string">"Microsoft Sans Serif"</span><span class="token punctuation">,</span><br>      <span class="token string">"Microsoft Tai Le"</span><span class="token punctuation">,</span><br>      <span class="token string">"Microsoft YaHei"</span><span class="token punctuation">,</span><br>      <span class="token string">"Microsoft Yi Baiti"</span><span class="token punctuation">,</span><br>      <span class="token string">"MingLiU-ExtB"</span><span class="token punctuation">,</span><br>      <span class="token string">"Mongolian Baiti"</span><span class="token punctuation">,</span><br>      <span class="token string">"MS Gothic"</span><span class="token punctuation">,</span><br>      <span class="token string">"MV Boli"</span><span class="token punctuation">,</span><br>      <span class="token string">"Myanmar Text"</span><span class="token punctuation">,</span><br>      <span class="token string">"Nirmala UI"</span><span class="token punctuation">,</span><br>      <span class="token string">"Palatino Linotype"</span><span class="token punctuation">,</span><br>      <span class="token string">"Segoe MDL2 Assets"</span><span class="token punctuation">,</span><br>      <span class="token string">"Segoe Print"</span><span class="token punctuation">,</span><br>      <span class="token string">"Segoe Script"</span><span class="token punctuation">,</span><br>      <span class="token string">"Segoe UI"</span><span class="token punctuation">,</span><br>      <span class="token string">"Segoe UI Historic"</span><span class="token punctuation">,</span><br>      <span class="token string">"Segoe UI Emoji"</span><span class="token punctuation">,</span><br>      <span class="token string">"Segoe UI Symbol"</span><span class="token punctuation">,</span><br>      <span class="token string">"SimSun"</span><span class="token punctuation">,</span><br>      <span class="token string">"Sitka"</span><span class="token punctuation">,</span><br>      <span class="token string">"Sylfaen"</span><span class="token punctuation">,</span><br>      <span class="token string">"Symbol"</span><span class="token punctuation">,</span><br>      <span class="token string">"Tahoma"</span><span class="token punctuation">,</span><br>      <span class="token string">"Times New Roman"</span><span class="token punctuation">,</span><br>      <span class="token string">"Trebuchet MS"</span><span class="token punctuation">,</span><br>      <span class="token string">"Verdana"</span><span class="token punctuation">,</span><br>      <span class="token string">"Webdings"</span><span class="token punctuation">,</span><br>      <span class="token string">"Wingdings"</span><span class="token punctuation">,</span><br>      <span class="token string">"Yu Gothic"</span><span class="token punctuation">,</span><br>      <span class="token comment">// macOS</span><br>      <span class="token string">"American Typewriter"</span><span class="token punctuation">,</span><br>      <span class="token string">"Andale Mono"</span><span class="token punctuation">,</span><br>      <span class="token string">"Arial"</span><span class="token punctuation">,</span><br>      <span class="token string">"Arial Black"</span><span class="token punctuation">,</span><br>      <span class="token string">"Arial Narrow"</span><span class="token punctuation">,</span><br>      <span class="token string">"Arial Rounded MT Bold"</span><span class="token punctuation">,</span><br>      <span class="token string">"Arial Unicode MS"</span><span class="token punctuation">,</span><br>      <span class="token string">"Avenir"</span><span class="token punctuation">,</span><br>      <span class="token string">"Avenir Next"</span><span class="token punctuation">,</span><br>      <span class="token string">"Avenir Next Condensed"</span><span class="token punctuation">,</span><br>      <span class="token string">"Baskerville"</span><span class="token punctuation">,</span><br>      <span class="token string">"Big Caslon"</span><span class="token punctuation">,</span><br>      <span class="token string">"Bodoni 72"</span><span class="token punctuation">,</span><br>      <span class="token string">"Bodoni 72 Oldstyle"</span><span class="token punctuation">,</span><br>      <span class="token string">"Bodoni 72 Smallcaps"</span><span class="token punctuation">,</span><br>      <span class="token string">"Bradley Hand"</span><span class="token punctuation">,</span><br>      <span class="token string">"Brush Script MT"</span><span class="token punctuation">,</span><br>      <span class="token string">"Chalkboard"</span><span class="token punctuation">,</span><br>      <span class="token string">"Chalkboard SE"</span><span class="token punctuation">,</span><br>      <span class="token string">"Chalkduster"</span><span class="token punctuation">,</span><br>      <span class="token string">"Charter"</span><span class="token punctuation">,</span><br>      <span class="token string">"Cochin"</span><span class="token punctuation">,</span><br>      <span class="token string">"Comic Sans MS"</span><span class="token punctuation">,</span><br>      <span class="token string">"Copperplate"</span><span class="token punctuation">,</span><br>      <span class="token string">"Courier"</span><span class="token punctuation">,</span><br>      <span class="token string">"Courier New"</span><span class="token punctuation">,</span><br>      <span class="token string">"Didot"</span><span class="token punctuation">,</span><br>      <span class="token string">"DIN Alternate"</span><span class="token punctuation">,</span><br>      <span class="token string">"DIN Condensed"</span><span class="token punctuation">,</span><br>      <span class="token string">"Futura"</span><span class="token punctuation">,</span><br>      <span class="token string">"Geneva"</span><span class="token punctuation">,</span><br>      <span class="token string">"Georgia"</span><span class="token punctuation">,</span><br>      <span class="token string">"Gill Sans"</span><span class="token punctuation">,</span><br>      <span class="token string">"Helvetica"</span><span class="token punctuation">,</span><br>      <span class="token string">"Helvetica Neue"</span><span class="token punctuation">,</span><br>      <span class="token string">"Herculanum"</span><span class="token punctuation">,</span><br>      <span class="token string">"Hoefler Text"</span><span class="token punctuation">,</span><br>      <span class="token string">"Impact"</span><span class="token punctuation">,</span><br>      <span class="token string">"Lucida Grande"</span><span class="token punctuation">,</span><br>      <span class="token string">"Luminari"</span><span class="token punctuation">,</span><br>      <span class="token string">"Marker Felt"</span><span class="token punctuation">,</span><br>      <span class="token string">"Menlo"</span><span class="token punctuation">,</span><br>      <span class="token string">"Microsoft Sans Serif"</span><span class="token punctuation">,</span><br>      <span class="token string">"Monaco"</span><span class="token punctuation">,</span><br>      <span class="token string">"Noteworthy"</span><span class="token punctuation">,</span><br>      <span class="token string">"Optima"</span><span class="token punctuation">,</span><br>      <span class="token string">"Palatino"</span><span class="token punctuation">,</span><br>      <span class="token string">"Papyrus"</span><span class="token punctuation">,</span><br>      <span class="token string">"Phosphate"</span><span class="token punctuation">,</span><br>      <span class="token string">"Rockwell"</span><span class="token punctuation">,</span><br>      <span class="token string">"Savoye LET"</span><span class="token punctuation">,</span><br>      <span class="token string">"SignPainter"</span><span class="token punctuation">,</span><br>      <span class="token string">"Skia"</span><span class="token punctuation">,</span><br>      <span class="token string">"Snell Roundhand"</span><span class="token punctuation">,</span><br>      <span class="token string">"Tahoma"</span><span class="token punctuation">,</span><br>      <span class="token string">"Times"</span><span class="token punctuation">,</span><br>      <span class="token string">"Times New Roman"</span><span class="token punctuation">,</span><br>      <span class="token string">"Trattatello"</span><span class="token punctuation">,</span><br>      <span class="token string">"Trebuchet MS"</span><span class="token punctuation">,</span><br>      <span class="token string">"Verdana"</span><span class="token punctuation">,</span><br>      <span class="token string">"Zapfino"</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> fontAvailable <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token operator">&lt;</span>string<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// @ts-ignore</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> font <span class="token keyword">of</span> fontCheck<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// @ts-ignore</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>fonts<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">12px "</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>font<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">"</span><span class="token string template-punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      fontAvailable<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>font<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br>  <span class="token comment">// @ts-ignore</span><br>  <span class="token keyword">return</span> fontAvailable<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br></code></pre><p>Following this great suggestion <a href=https://stackoverflow.com/a/62755574/7303311>here</a> the document checks to see all the avaliable fonts for the browser and given document.<h2 id=running>Running <a href=#running class=direct-link>#</a></h2><p>If everything went well when the command <code>npm run dev</code> is run the following should appear in the viewport:</p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/rich-text/editor-finish-1920w.avif 1920w, /img/rich-text/editor-finish-1280w.avif 1280w, /img/rich-text/editor-finish-640w.avif 640w, /img/rich-text/editor-finish-320w.avif 320w" type=image/avif><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/rich-text/editor-finish-1920w.webp 1920w, /img/rich-text/editor-finish-1280w.webp 1280w, /img/rich-text/editor-finish-640w.webp 640w, /img/rich-text/editor-finish-320w.webp 320w" type=image/webp><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/rich-text/editor-finish-1920w.jpg 1920w, /img/rich-text/editor-finish-1280w.jpg 1280w, /img/rich-text/editor-finish-640w.jpg 640w, /img/rich-text/editor-finish-320w.jpg 320w" type=image/jpeg><img src=/img/rich-text/editor-finish-1920w.jpg style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1106 298'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAECAYAAABREWWJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAn0lEQVQI123OwQqDMAwG4L72QDwLRfssnjz4CkKLB1steqiCDjvPCpZ/LuDYYYGP/JAQwh5RhDiOIYRAmqbIsow65xxlWUJKiaqqUNc1lFLI8xxJktAOew4DXuuKf3WeJ47jIPu+kxDCd85sUUBfV03bomkaaK3JJxtjSNd16PueWGvRXrvTNIG5ZcE4jnDOkd98m+cZ3nus14e3bdvwBlee0nKr0PjpAAAAAElFTkSuQmCC'%3E%3C/image%3E%3C/svg%3E&#34;)" width=100% decoding=async loading=lazy></picture><h2 id=conclusion>Conclusion <a href=#conclusion class=direct-link>#</a></h2><p>If you want to learn more about building with Lit you can read the docs <a href=https://lit.dev>here</a>. There is also an example on the Lit playground <a href="https://lit.dev/playground/#project=W3sibmFtZSI6InJpY2gtdGV4dC1lZGl0b3IudHMiLCJjb250ZW50IjoiaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3VzdG9tRWxlbWVudCwgY3NzLCBzdGF0ZSB9IGZyb20gXCJsaXQtZWxlbWVudFwiO1xuXG5pbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWljb24tYnV0dG9uXCI7XG5cbkBjdXN0b21FbGVtZW50KFwicmljaC10ZXh0LWVkaXRvclwiKVxuZXhwb3J0IGNsYXNzIFJpY2hUZXh0RWRpdG9yIGV4dGVuZHMgTGl0RWxlbWVudCB7XG4gIEBzdGF0ZSgpIGNvbnRlbnQ6IHN0cmluZyA9IFwiXCI7XG4gIEBzdGF0ZSgpIHJvb3Q6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICBzdGF0aWMgc3R5bGVzID0gY3NzYFxuICAgIDpob3N0IHtcbiAgICAgIC0tZWRpdG9yLXdpZHRoOiA2MDBweDtcbiAgICAgIC0tZWRpdG9yLWhlaWdodDogNjAwcHg7XG4gICAgICAtLWVkaXRvci1iYWNrZ3JvdW5kOiAjZjFmMWYxO1xuICAgICAgLS1lZGl0b3ItdG9vbGJhci1oZWlnaHQ6IDMzcHg7XG4gICAgICAtLWVkaXRvci10b29sYmFyLWJhY2tncm91bmQ6IGJsYWNrO1xuICAgICAgLS1lZGl0b3ItdG9vbGJhci1vbi1iYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICAgIC0tZWRpdG9yLXRvb2xiYXItb24tYWN0aXZlLWJhY2tncm91bmQ6ICNhNGE0YTQ7XG4gICAgfVxuICAgIG1haW4ge1xuICAgICAgd2lkdGg6IHZhcigtLWVkaXRvci13aWR0aCk7XG4gICAgICBoZWlnaHQ6IHZhcigtLWVkaXRvci1oZWlnaHQpO1xuICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6XG4gICAgICAgIFwidG9vbGJhciB0b29sYmFyXCJcbiAgICAgICAgXCJlZGl0b3IgZWRpdG9yXCI7XG4gICAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHZhcigtLWVkaXRvci10b29sYmFyLWhlaWdodCkgYXV0bztcbiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogYXV0byBhdXRvO1xuICAgIH1cbiAgICAjZWRpdG9yLWFjdGlvbnMge1xuICAgICAgZ3JpZC1hcmVhOiB0b29sYmFyO1xuICAgICAgd2lkdGg6IHZhcigtLWVkaXRvci13aWR0aCk7XG4gICAgICBoZWlnaHQ6IHZhcigtLWVkaXRvci10b29sYmFyLWhlaWdodCk7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1lZGl0b3ItdG9vbGJhci1iYWNrZ3JvdW5kKTtcbiAgICAgIGNvbG9yOiB2YXIoLS1lZGl0b3ItdG9vbGJhci1vbi1iYWNrZ3JvdW5kKTtcbiAgICAgIG92ZXJzY3JvbGwtYmVoYXZpb3I6IGNvbnRhaW47XG4gICAgICBvdmVyZmxvdy15OiBhdXRvO1xuICAgICAgLW1zLW92ZXJmbG93LXN0eWxlOiBub25lO1xuICAgICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lO1xuICAgIH1cbiAgICAjZWRpdG9yLWFjdGlvbnM6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuICAgICNlZGl0b3Ige1xuICAgICAgd2lkdGg6IHZhcigtLWVkaXRvci13aWR0aCk7XG4gICAgICBncmlkLWFyZWE6IGVkaXRvcjtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWVkaXRvci1iYWNrZ3JvdW5kKTtcbiAgICB9XG4gICAgI3Rvb2xiYXIge1xuICAgICAgd2lkdGg6IDEwODBweDtcbiAgICAgIGhlaWdodDogdmFyKC0tZWRpdG9yLXRvb2xiYXItaGVpZ2h0KTtcbiAgICB9XG4gICAgW2NvbnRlbnRlZGl0YWJsZV0ge1xuICAgICAgb3V0bGluZTogMHB4IHNvbGlkIHRyYW5zcGFyZW50O1xuICAgIH1cbiAgICAjdG9vbGJhciA-IG13Yy1pY29uLWJ1dHRvbiB7XG4gICAgICBjb2xvcjogdmFyKC0tZWRpdG9yLXRvb2xiYXItb24tYmFja2dyb3VuZCk7XG4gICAgICAtLW1kYy1pY29uLXNpemU6IDIwcHg7XG4gICAgICAtLW1kYy1pY29uLWJ1dHRvbi1zaXplOiAzMHB4O1xuICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cbiAgICAjdG9vbGJhciA-IC5hY3RpdmUge1xuICAgICAgY29sb3I6IHZhcigtLWVkaXRvci10b29sYmFyLW9uLWFjdGl2ZS1iYWNrZ3JvdW5kKTtcbiAgICB9XG4gICAgc2VsZWN0IHtcbiAgICAgIG1hcmdpbi10b3A6IDVweDtcbiAgICAgIGhlaWdodDogY2FsYyh2YXIoLS1lZGl0b3ItdG9vbGJhci1oZWlnaHQpIC0gMTBweCk7XG4gICAgfVxuICAgIGlucHV0W3R5cGU9XCJjb2xvclwiXSB7XG4gICAgICBoZWlnaHQ6IGNhbGModmFyKC0tZWRpdG9yLXRvb2xiYXItaGVpZ2h0KSAtIDE1cHgpO1xuICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgd2lkdGg6IDIycHg7XG4gICAgfVxuICAgIGlucHV0W3R5cGU9XCJjb2xvclwiXTo6LXdlYmtpdC1jb2xvci1zd2F0Y2gtd3JhcHBlciB7XG4gICAgICBwYWRkaW5nOiAwO1xuICAgIH1cbiAgICBpbnB1dFt0eXBlPVwiY29sb3JcIl06Oi13ZWJraXQtY29sb3Itc3dhdGNoIHtcbiAgICAgIGJvcmRlcjogbm9uZTtcbiAgICB9XG4gIGA7XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiBodG1sYDxtYWluPlxuICAgICAgPGlucHV0IGlkPVwiYmdcIiB0eXBlPVwiY29sb3JcIiBzdHlsZT0nZGlzcGxheTpub25lJyAvPlxuICAgICAgPGlucHV0IGlkPVwiZmdcIiB0eXBlPVwiY29sb3JcIiBzdHlsZT0nZGlzcGxheTpub25lJyAvPlxuICAgICAgPGRpdiBpZD1cImVkaXRvci1hY3Rpb25zXCI-XG4gICAgICAgIDxkaXYgaWQ9XCJ0b29sYmFyXCI-XG4gICAgICAgICAgJHt0b29sYmFyKHRoaXMuc2hhZG93Um9vdCEsIHRoaXMuZ2V0U2VsZWN0aW9uKCksIChjb21tYW5kLCB2YWwpID0-IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKGNvbW1hbmQsIGZhbHNlLCB2YWwpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb21tYW5kXCIsIGNvbW1hbmQsIHZhbCk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY-XG4gICAgICA8ZGl2IGlkPVwiZWRpdG9yXCI-JHt0aGlzLnJvb3R9PC9kaXY-XG4gICAgPC9tYWluPiBgO1xuICB9XG5cbiAgYXN5bmMgZmlyc3RVcGRhdGVkKCkge1xuICAgIGNvbnN0IGVsZW0gPSB0aGlzLnBhcmVudEVsZW1lbnQhLnF1ZXJ5U2VsZWN0b3IoXCJyaWNoLXRleHQtZWRpdG9yIHRlbXBsYXRlXCIpO1xuICAgIHRoaXMuY29udGVudCA9IGVsZW0_LmlubmVySFRNTCA_PyBcIlwiO1xuICAgIHRoaXMucmVzZXQoKTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICBjb25zdCBkb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRoaXMuY29udGVudCwgXCJ0ZXh0L2h0bWxcIik7XG4gICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJkZWZhdWx0UGFyYWdyYXBoU2VwYXJhdG9yXCIsIGZhbHNlLCBcImJyXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gICAgfSk7XG4gICAgY29uc3Qgcm9vdCA9IGRvYy5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcbiAgICByb290IS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIiwgXCJ0cnVlXCIpO1xuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gIH1cblxuICBnZXRTZWxlY3Rpb24oKTogU2VsZWN0aW9uIHwgbnVsbCB7XG4gICAgaWYgKHRoaXMuc2hhZG93Um9vdD8uZ2V0U2VsZWN0aW9uKSByZXR1cm4gdGhpcy5zaGFkb3dSb290Py5nZXRTZWxlY3Rpb24oKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b29sYmFyKFxuICBzaGFkb3dSb290OiBTaGFkb3dSb290LFxuICBzZWxlY3Rpb246IFNlbGVjdGlvbiB8IG51bGwsXG4gIGNvbW1hbmQ6IChjOiBzdHJpbmcsIHZhbDogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB2b2lkXG4pIHtcbiAgY29uc3QgdGFnczogc3RyaW5nW10gPSBbXTtcbiAgaWYgKHNlbGVjdGlvbj8udHlwZSA9PT0gXCJSYW5nZVwiKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGxldCBwYXJlbnROb2RlID0gc2VsZWN0aW9uPy5iYXNlTm9kZTtcbiAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgY29uc3QgY2hlY2tOb2RlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBwYXJlbnRUYWdOYW1lID0gcGFyZW50Tm9kZT8udGFnTmFtZT8udG9Mb3dlckNhc2UoKT8udHJpbSgpO1xuICAgICAgICBpZiAocGFyZW50VGFnTmFtZSkgdGFncy5wdXNoKHBhcmVudFRhZ05hbWUpO1xuICAgICAgfTtcbiAgICAgIHdoaWxlIChwYXJlbnROb2RlICE9IG51bGwpIHtcbiAgICAgICAgY2hlY2tOb2RlKCk7XG4gICAgICAgIHBhcmVudE5vZGUgPSBwYXJlbnROb2RlPy5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGNvbW1hbmRzOiB7XG4gICAgaWNvbjogc3RyaW5nO1xuICAgIGNvbW1hbmQ6IHN0cmluZyB8ICgoKSA9PiB2b2lkKTtcbiAgICBhY3RpdmU_OiBib29sZWFuO1xuICAgIHR5cGU_OiBzdHJpbmc7XG4gICAgdmFsdWVzPzogeyB2YWx1ZTogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGZvbnQ_OiBib29sZWFuIH1bXTtcbiAgICBjb21tYW5kX3ZhbHVlPzogc3RyaW5nO1xuICB9W10gPSBbXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfY2xlYXJcIixcbiAgICAgIGNvbW1hbmQ6IFwicmVtb3ZlRm9ybWF0XCIsXG4gICAgfSxcblxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X2JvbGRcIixcbiAgICAgIGNvbW1hbmQ6IFwiYm9sZFwiLFxuICAgICAgYWN0aXZlOiB0YWdzLmluY2x1ZGVzKFwiYlwiKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X2l0YWxpY1wiLFxuICAgICAgY29tbWFuZDogXCJpdGFsaWNcIixcbiAgICAgIGFjdGl2ZTogdGFncy5pbmNsdWRlcyhcImlcIiksXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiBcImZvcm1hdF91bmRlcmxpbmVkXCIsXG4gICAgICBjb21tYW5kOiBcInVuZGVybGluZVwiLFxuICAgICAgYWN0aXZlOiB0YWdzLmluY2x1ZGVzKFwidVwiKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X2FsaWduX2xlZnRcIixcbiAgICAgIGNvbW1hbmQ6IFwianVzdGlmeWxlZnRcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X2FsaWduX2NlbnRlclwiLFxuICAgICAgY29tbWFuZDogXCJqdXN0aWZ5Y2VudGVyXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiBcImZvcm1hdF9hbGlnbl9yaWdodFwiLFxuICAgICAgY29tbWFuZDogXCJqdXN0aWZ5cmlnaHRcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X2xpc3RfbnVtYmVyZWRcIixcbiAgICAgIGNvbW1hbmQ6IFwiaW5zZXJ0b3JkZXJlZGxpc3RcIixcbiAgICAgIGFjdGl2ZTogdGFncy5pbmNsdWRlcyhcIm9sXCIpLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJmb3JtYXRfbGlzdF9idWxsZXRlZFwiLFxuICAgICAgY29tbWFuZDogXCJpbnNlcnR1bm9yZGVyZWRsaXN0XCIsXG4gICAgICBhY3RpdmU6IHRhZ3MuaW5jbHVkZXMoXCJ1bFwiKSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X3F1b3RlXCIsXG4gICAgICBjb21tYW5kOiBcImZvcm1hdGJsb2NrXCIsXG4gICAgICBjb21tYW5kX3ZhbHVlOiBcImJsb2NrcXVvdGVcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X2luZGVudF9kZWNyZWFzZVwiLFxuICAgICAgY29tbWFuZDogXCJvdXRkZW50XCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiBcImZvcm1hdF9pbmRlbnRfaW5jcmVhc2VcIixcbiAgICAgIGNvbW1hbmQ6IFwiaW5kZW50XCIsXG4gICAgfSxcbiAgICB0YWdzLmluY2x1ZGVzKFwiYVwiKVxuICAgICAgPyB7IGljb246IFwibGlua19vZmZcIiwgY29tbWFuZDogXCJ1bmxpbmtcIiB9XG4gICAgICA6IHtcbiAgICAgICAgICBpY29uOiBcImFkZF9saW5rXCIsXG4gICAgICAgICAgY29tbWFuZDogKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3TGluayA9IHByb21wdChcIldyaXRlIHRoZSBVUkwgaGVyZVwiLCBcImh0dHA6Ly9cIik7XG4gICAgICAgICAgICBpZiAobmV3TGluayAmJiBuZXdMaW5rICE9IFwiXCIgJiYgbmV3TGluayAhPSBcImh0dHA6Ly9cIikge1xuICAgICAgICAgICAgICBjb21tYW5kKFwiY3JlYXRlbGlua1wiLCBuZXdMaW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X2NvbG9yX3RleHRcIixcbiAgICAgIGNvbW1hbmQ6ICgpID0-IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCIjZmdcIikhIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZTogYW55KSA9PiB7XG4gICAgICAgICAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgY29tbWFuZChcImZvcmVjb2xvclwiLCB2YWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgaW5wdXQuY2xpY2soKTtcbiAgICAgIH0sXG4gICAgICB0eXBlOiBcImNvbG9yXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiBcImJvcmRlcl9jb2xvclwiLFxuICAgICAgY29tbWFuZDogKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIiNiZ1wiKSEgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlOiBhbnkpID0-IHtcbiAgICAgICAgICBjb25zdCB2YWwgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICBjb21tYW5kKFwiYmFja2NvbG9yXCIsIHZhbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpbnB1dC5jbGljaygpO1xuICAgICAgfSxcbiAgICAgIHR5cGU6IFwiY29sb3JcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwidGl0bGVcIixcbiAgICAgIGNvbW1hbmQ6IFwiZm9ybWF0YmxvY2tcIixcbiAgICAgIHZhbHVlczogW1xuICAgICAgICB7IG5hbWU6IFwiTm9ybWFsIFRleHRcIiwgdmFsdWU6IFwiLS1cIiB9LFxuICAgICAgICB7IG5hbWU6IFwiSGVhZGluZyAxXCIsIHZhbHVlOiBcImgxXCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIkhlYWRpbmcgMlwiLCB2YWx1ZTogXCJoMlwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJIZWFkaW5nIDNcIiwgdmFsdWU6IFwiaDNcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiSGVhZGluZyA0XCIsIHZhbHVlOiBcImg0XCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIkhlYWRpbmcgNVwiLCB2YWx1ZTogXCJoNVwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJIZWFkaW5nIDZcIiwgdmFsdWU6IFwiaDZcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiUGFyYWdyYXBoXCIsIHZhbHVlOiBcInBcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiUHJlLUZvcm1hdHRlZFwiLCB2YWx1ZTogXCJwcmVcIiB9LFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwidGV4dF9mb3JtYXRcIixcbiAgICAgIGNvbW1hbmQ6IFwiZm9udG5hbWVcIixcbiAgICAgIHZhbHVlczogW1xuICAgICAgICB7IG5hbWU6IFwiRm9udCBOYW1lXCIsIHZhbHVlOiBcIi0tXCIgfSxcbiAgICAgICAgLi4uWy4uLmNoZWNrRm9udHMoKV0ubWFwKChmKSA9PiAoe1xuICAgICAgICAgIG5hbWU6IGYsXG4gICAgICAgICAgdmFsdWU6IGYsXG4gICAgICAgICAgZm9udDogdHJ1ZSxcbiAgICAgICAgfSkpLFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwiZm9ybWF0X3NpemVcIixcbiAgICAgIGNvbW1hbmQ6IFwiZm9udHNpemVcIixcbiAgICAgIHZhbHVlczogW1xuICAgICAgICB7IG5hbWU6IFwiRm9udCBTaXplXCIsIHZhbHVlOiBcIi0tXCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIlZlcnkgU21hbGxcIiwgdmFsdWU6IFwiMVwiIH0sXG4gICAgICAgIHsgbmFtZTogXCJTbWFsbFwiLCB2YWx1ZTogXCIyXCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIk5vcm1hbFwiLCB2YWx1ZTogXCIzXCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIk1lZGl1bSBMYXJnZVwiLCB2YWx1ZTogXCI0XCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIkxhcmdlXCIsIHZhbHVlOiBcIjVcIiB9LFxuICAgICAgICB7IG5hbWU6IFwiVmVyeSBMYXJnZVwiLCB2YWx1ZTogXCI2XCIgfSxcbiAgICAgICAgeyBuYW1lOiBcIk1heGltdW1cIiwgdmFsdWU6IFwiN1wiIH0sXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJ1bmRvXCIsXG4gICAgICBjb21tYW5kOiBcInVuZG9cIixcbiAgICB9LFxuICAgIHtcbiAgICAgIGljb246IFwicmVkb1wiLFxuICAgICAgY29tbWFuZDogXCJyZWRvXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBpY29uOiBcImNvbnRlbnRfY3V0XCIsXG4gICAgICBjb21tYW5kOiBcImN1dFwiLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJjb250ZW50X2NvcHlcIixcbiAgICAgIGNvbW1hbmQ6IFwiY29weVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgaWNvbjogXCJjb250ZW50X3Bhc3RlXCIsXG4gICAgICBjb21tYW5kOiBcInBhc3RlXCIsXG4gICAgfSxcbiAgXTtcblxuICByZXR1cm4gaHRtbGBcbiAgICAke2NvbW1hbmRzLm1hcCgobikgPT4ge1xuICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJtd2MtaWNvbi1idXR0b25cIik7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZShcImljb25cIiwgbi5pY29uKTtcbiAgICAgIGVsZW0uY2xhc3NOYW1lID0gbi5hY3RpdmUgPyBcImFjdGl2ZVwiIDogXCJpbmFjdGl2ZVwiO1xuICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBpZiAobi52YWx1ZXMpIHtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygbi5jb21tYW5kID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29tbWFuZChuLmNvbW1hbmQsIG4uY29tbWFuZF92YWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbi5jb21tYW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgICR7bi52YWx1ZXNcbiAgICAgICAgICA_IGh0bWxgIDxzZWxlY3RcbiAgICAgICAgICAgICAgaWQ9XCIke24uaWNvbn1cIlxuICAgICAgICAgICAgICBAY2hhbmdlPSR7KGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh2YWwgPT09IFwiLS1cIikge1xuICAgICAgICAgICAgICAgICAgY29tbWFuZChcInJlbW92ZUZvcm1hdFwiLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG4uY29tbWFuZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgY29tbWFuZChuLmNvbW1hbmQsIHZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAke24udmFsdWVzLm1hcChcbiAgICAgICAgICAgICAgICAodikgPT4gaHRtbGAgPG9wdGlvbiB2YWx1ZT0ke3YudmFsdWV9PiR7di5uYW1lfTwvb3B0aW9uPmBcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvc2VsZWN0PmBcbiAgICAgICAgICA6IGh0bWxgICR7ZWxlbX1gfVxuICAgICAgYDtcbiAgICB9KX1cbiAgYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRm9udHMoKTogc3RyaW5nW10ge1xuICBjb25zdCBmb250Q2hlY2sgPSBuZXcgU2V0KFxuICAgIFtcbiAgICAgIC8vIFdpbmRvd3MgMTBcbiAgICAgIFwiQXJpYWxcIixcbiAgICAgIFwiQXJpYWwgQmxhY2tcIixcbiAgICAgIFwiQmFobnNjaHJpZnRcIixcbiAgICAgIFwiQ2FsaWJyaVwiLFxuICAgICAgXCJDYW1icmlhXCIsXG4gICAgICBcIkNhbWJyaWEgTWF0aFwiLFxuICAgICAgXCJDYW5kYXJhXCIsXG4gICAgICBcIkNvbWljIFNhbnMgTVNcIixcbiAgICAgIFwiQ29uc29sYXNcIixcbiAgICAgIFwiQ29uc3RhbnRpYVwiLFxuICAgICAgXCJDb3JiZWxcIixcbiAgICAgIFwiQ291cmllciBOZXdcIixcbiAgICAgIFwiRWJyaW1hXCIsXG4gICAgICBcIkZyYW5rbGluIEdvdGhpYyBNZWRpdW1cIixcbiAgICAgIFwiR2FicmlvbGFcIixcbiAgICAgIFwiR2FkdWdpXCIsXG4gICAgICBcIkdlb3JnaWFcIixcbiAgICAgIFwiSG9sb0xlbnMgTURMMiBBc3NldHNcIixcbiAgICAgIFwiSW1wYWN0XCIsXG4gICAgICBcIkluayBGcmVlXCIsXG4gICAgICBcIkphdmFuZXNlIFRleHRcIixcbiAgICAgIFwiTGVlbGF3YWRlZSBVSVwiLFxuICAgICAgXCJMdWNpZGEgQ29uc29sZVwiLFxuICAgICAgXCJMdWNpZGEgU2FucyBVbmljb2RlXCIsXG4gICAgICBcIk1hbGd1biBHb3RoaWNcIixcbiAgICAgIFwiTWFybGV0dFwiLFxuICAgICAgXCJNaWNyb3NvZnQgSGltYWxheWFcIixcbiAgICAgIFwiTWljcm9zb2Z0IEpoZW5nSGVpXCIsXG4gICAgICBcIk1pY3Jvc29mdCBOZXcgVGFpIEx1ZVwiLFxuICAgICAgXCJNaWNyb3NvZnQgUGhhZ3NQYVwiLFxuICAgICAgXCJNaWNyb3NvZnQgU2FucyBTZXJpZlwiLFxuICAgICAgXCJNaWNyb3NvZnQgVGFpIExlXCIsXG4gICAgICBcIk1pY3Jvc29mdCBZYUhlaVwiLFxuICAgICAgXCJNaWNyb3NvZnQgWWkgQmFpdGlcIixcbiAgICAgIFwiTWluZ0xpVS1FeHRCXCIsXG4gICAgICBcIk1vbmdvbGlhbiBCYWl0aVwiLFxuICAgICAgXCJNUyBHb3RoaWNcIixcbiAgICAgIFwiTVYgQm9saVwiLFxuICAgICAgXCJNeWFubWFyIFRleHRcIixcbiAgICAgIFwiTmlybWFsYSBVSVwiLFxuICAgICAgXCJQYWxhdGlubyBMaW5vdHlwZVwiLFxuICAgICAgXCJTZWdvZSBNREwyIEFzc2V0c1wiLFxuICAgICAgXCJTZWdvZSBQcmludFwiLFxuICAgICAgXCJTZWdvZSBTY3JpcHRcIixcbiAgICAgIFwiU2Vnb2UgVUlcIixcbiAgICAgIFwiU2Vnb2UgVUkgSGlzdG9yaWNcIixcbiAgICAgIFwiU2Vnb2UgVUkgRW1vamlcIixcbiAgICAgIFwiU2Vnb2UgVUkgU3ltYm9sXCIsXG4gICAgICBcIlNpbVN1blwiLFxuICAgICAgXCJTaXRrYVwiLFxuICAgICAgXCJTeWxmYWVuXCIsXG4gICAgICBcIlN5bWJvbFwiLFxuICAgICAgXCJUYWhvbWFcIixcbiAgICAgIFwiVGltZXMgTmV3IFJvbWFuXCIsXG4gICAgICBcIlRyZWJ1Y2hldCBNU1wiLFxuICAgICAgXCJWZXJkYW5hXCIsXG4gICAgICBcIldlYmRpbmdzXCIsXG4gICAgICBcIldpbmdkaW5nc1wiLFxuICAgICAgXCJZdSBHb3RoaWNcIixcbiAgICAgIC8vIG1hY09TXG4gICAgICBcIkFtZXJpY2FuIFR5cGV3cml0ZXJcIixcbiAgICAgIFwiQW5kYWxlIE1vbm9cIixcbiAgICAgIFwiQXJpYWxcIixcbiAgICAgIFwiQXJpYWwgQmxhY2tcIixcbiAgICAgIFwiQXJpYWwgTmFycm93XCIsXG4gICAgICBcIkFyaWFsIFJvdW5kZWQgTVQgQm9sZFwiLFxuICAgICAgXCJBcmlhbCBVbmljb2RlIE1TXCIsXG4gICAgICBcIkF2ZW5pclwiLFxuICAgICAgXCJBdmVuaXIgTmV4dFwiLFxuICAgICAgXCJBdmVuaXIgTmV4dCBDb25kZW5zZWRcIixcbiAgICAgIFwiQmFza2VydmlsbGVcIixcbiAgICAgIFwiQmlnIENhc2xvblwiLFxuICAgICAgXCJCb2RvbmkgNzJcIixcbiAgICAgIFwiQm9kb25pIDcyIE9sZHN0eWxlXCIsXG4gICAgICBcIkJvZG9uaSA3MiBTbWFsbGNhcHNcIixcbiAgICAgIFwiQnJhZGxleSBIYW5kXCIsXG4gICAgICBcIkJydXNoIFNjcmlwdCBNVFwiLFxuICAgICAgXCJDaGFsa2JvYXJkXCIsXG4gICAgICBcIkNoYWxrYm9hcmQgU0VcIixcbiAgICAgIFwiQ2hhbGtkdXN0ZXJcIixcbiAgICAgIFwiQ2hhcnRlclwiLFxuICAgICAgXCJDb2NoaW5cIixcbiAgICAgIFwiQ29taWMgU2FucyBNU1wiLFxuICAgICAgXCJDb3BwZXJwbGF0ZVwiLFxuICAgICAgXCJDb3VyaWVyXCIsXG4gICAgICBcIkNvdXJpZXIgTmV3XCIsXG4gICAgICBcIkRpZG90XCIsXG4gICAgICBcIkRJTiBBbHRlcm5hdGVcIixcbiAgICAgIFwiRElOIENvbmRlbnNlZFwiLFxuICAgICAgXCJGdXR1cmFcIixcbiAgICAgIFwiR2VuZXZhXCIsXG4gICAgICBcIkdlb3JnaWFcIixcbiAgICAgIFwiR2lsbCBTYW5zXCIsXG4gICAgICBcIkhlbHZldGljYVwiLFxuICAgICAgXCJIZWx2ZXRpY2EgTmV1ZVwiLFxuICAgICAgXCJIZXJjdWxhbnVtXCIsXG4gICAgICBcIkhvZWZsZXIgVGV4dFwiLFxuICAgICAgXCJJbXBhY3RcIixcbiAgICAgIFwiTHVjaWRhIEdyYW5kZVwiLFxuICAgICAgXCJMdW1pbmFyaVwiLFxuICAgICAgXCJNYXJrZXIgRmVsdFwiLFxuICAgICAgXCJNZW5sb1wiLFxuICAgICAgXCJNaWNyb3NvZnQgU2FucyBTZXJpZlwiLFxuICAgICAgXCJNb25hY29cIixcbiAgICAgIFwiTm90ZXdvcnRoeVwiLFxuICAgICAgXCJPcHRpbWFcIixcbiAgICAgIFwiUGFsYXRpbm9cIixcbiAgICAgIFwiUGFweXJ1c1wiLFxuICAgICAgXCJQaG9zcGhhdGVcIixcbiAgICAgIFwiUm9ja3dlbGxcIixcbiAgICAgIFwiU2F2b3llIExFVFwiLFxuICAgICAgXCJTaWduUGFpbnRlclwiLFxuICAgICAgXCJTa2lhXCIsXG4gICAgICBcIlNuZWxsIFJvdW5kaGFuZFwiLFxuICAgICAgXCJUYWhvbWFcIixcbiAgICAgIFwiVGltZXNcIixcbiAgICAgIFwiVGltZXMgTmV3IFJvbWFuXCIsXG4gICAgICBcIlRyYXR0YXRlbGxvXCIsXG4gICAgICBcIlRyZWJ1Y2hldCBNU1wiLFxuICAgICAgXCJWZXJkYW5hXCIsXG4gICAgICBcIlphcGZpbm9cIixcbiAgICBdLnNvcnQoKVxuICApO1xuICBjb25zdCBmb250QXZhaWxhYmxlID0gbmV3IFNldDxzdHJpbmc-KCk7XG4gIC8vIEB0cy1pZ25vcmVcbiAgZm9yIChjb25zdCBmb250IG9mIGZvbnRDaGVjay52YWx1ZXMoKSkge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoZG9jdW1lbnQuZm9udHMuY2hlY2soYDEycHggXCIke2ZvbnR9XCJgKSkge1xuICAgICAgZm9udEF2YWlsYWJsZS5hZGQoZm9udCk7XG4gICAgfVxuICB9XG4gIC8vIEB0cy1pZ25vcmVcbiAgcmV0dXJuIGZvbnRBdmFpbGFibGUudmFsdWVzKCk7XG59XG4ifSx7Im5hbWUiOiJpbmRleC5odG1sIiwiY29udGVudCI6IjwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz1cImVuXCI-XG4gIDxoZWFkPlxuICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiIC8-XG4gICAgPGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9zdmcreG1sXCIgaHJlZj1cIi9zcmMvZmF2aWNvbi5zdmdcIiAvPlxuICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCIgLz5cbiAgICA8bGlua1xuICAgICAgaHJlZj1cImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzP2ZhbWlseT1NYXRlcmlhbCtJY29ucyZkaXNwbGF5PWJsb2NrXCJcbiAgICAgIHJlbD1cInN0eWxlc2hlZXRcIlxuICAgIC8-XG4gICAgPHRpdGxlPkxpdCBIVE1MIEVkaXRvcjwvdGl0bGU-XG4gICAgPHNjcmlwdCB0eXBlPVwibW9kdWxlXCIgc3JjPVwiLi9yaWNoLXRleHQtZWRpdG9yLmpzXCI-PC9zY3JpcHQ-XG4gICAgPHN0eWxlPlxuICAgICAgYm9keSB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICB9XG4gICAgICByaWNoLXRleHQtZWRpdG9yIHtcbiAgICAgICAgLS1lZGl0b3Itd2lkdGg6IDEwMCU7XG4gICAgICAgIC0tZWRpdG9yLWhlaWdodDogMTAwdmg7XG4gICAgICB9XG4gICAgPC9zdHlsZT5cbiAgPC9oZWFkPlxuICA8Ym9keT5cbiAgICA8cmljaC10ZXh0LWVkaXRvcj5cbiAgICAgIDx0ZW1wbGF0ZT5cbiAgICAgICAgPGgxPkhlYWRsaW5lIDE8L2gxPlxuICAgICAgICA8cD5UaGlzIGlzIGEgcGFyYWdyYXBoLjwvcD5cbiAgICAgICAgPHA-XG4gICAgICAgICAgPHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAwLCAwKVwiXG4gICAgICAgICAgICA-PGZvbnQgY29sb3I9XCIjZmZmZmZmXCI-U3R5bGVkIFRleHQ8L2ZvbnQ-PC9zcGFuXG4gICAgICAgICAgPlxuICAgICAgICA8L3A-XG4gICAgICA8L3RlbXBsYXRlPlxuICAgIDwvcmljaC10ZXh0LWVkaXRvcj5cbiAgPC9ib2R5PlxuPC9odG1sPlxuIn1d">here</a>.<p>The source for this example can be found <a href=https://github.com/rodydavis/lit-html-editor>here</a>.<h1></h1><p>Since you've made it this far, <a href=https://rodydavis.com/posts/lit-rich-text-editor/ on-click=share>sharing</a> this article on your favorite social media network would be highly appreciated ! For feedback, please <a href=https://twitter.com/rodydavis rel=noopener target=_blank>ping me on Twitter.</a></p><share-widget><button aria-label=Share href=https://rodydavis.com/posts/lit-rich-text-editor/ on-click=share><div></div></button></share-widget><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"Building a Rich Text Editor with Lit","image":["https://rodydavis.com/img/rich-text/editor-start-1920w.jpg","https://rodydavis.com/img/rich-text/editor-finish-1920w.jpg"],"author":"Rody Davis","genre":"https://schema.org/Code","publisher":{"@type":"Organization","name":"Rody Davis","logo":{"@type":"ImageObject","url":"/img/favicon/favicon-32x32.png?hash=3df5885280"}},"url":"https://rodydavis.com/posts/lit-rich-text-editor/","mainEntityOfPage":"https://rodydavis.com/posts/lit-rich-text-editor/","datePublished":"2021-05-26","dateModified":"2021-07-08","description":"In this article I will go over how to set up a Lit web component and use it to create a rich text editor. TLDR The final source here and an..."}</script><p>Published <time datetime=2021-05-26>26 May 2021</time></article></main><footer><a href=https://twitter.com/rodydavis class="fab fa-twitter" rel="noopener noreferrer" target=_blank></a> <a href=https://facebook.com/rodydavisjr class="fab fa-facebook" rel="noopener noreferrer" target=_blank></a> <a href=https://www.linkedin.com/in/rodydavis class="fab fa-linkedin" rel="noopener noreferrer" target=_blank></a> <a href=https://www.youtube.com/rodydavis class="fab fa-youtube" rel="noopener noreferrer" target=_blank></a> <a href=https://www.instagram.com/rodydavisjr class="fab fa-instagram" rel="noopener noreferrer" target=_blank></a> <a href=https://www.github.com/rodydavis class="fab fa-github" rel="noopener noreferrer" target=_blank></a> <a href=https://www.tiktok.com/@rodydavisjr class="fab fa-tiktok" rel="noopener noreferrer" target=_blank></a></footer><script src="https://www.googletagmanager.com/gtag/js?id=G-JQNPVBL9DR" async></script><script>window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-JQNPVBL9DR');</script>