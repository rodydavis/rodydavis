<!DOCTYPE html><html domain=rodydavis.com ga-id=G-JQNPVBL9DR lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href="/img/favicon/favicon-32x32.png?hash=3df5885280" rel=icon type=image/png><meta content=#f9c412 name=theme-color><meta content="max-snippet:-1, max-image-preview: large, max-video-preview: -1" name=robots><title>Lit and Figma</title><meta content="Lit and Figma" property=og:title><meta content="In this article I will go over how to set up a Lit web component and use it to create a figma plugin. TLDR You can find the final source..." name=description><meta content="In this article I will go over how to set up a Lit web component and use it to create a figma plugin. TLDR You can find the final source..." property=og:description><meta content=summary_large_image name=twitter:card><meta content=@rodydavis name=twitter:site><meta content=@rodydavis name=twitter:creator><meta content=https://rodydavis.com/img/remote/1zoYyK.png property=og:image><link href=https://rodydavis.com/posts/figma-and-lit/ rel=canonical><meta content=no-referrer-when-downgrade name=referrer><link href=/feed/feed.xml rel=alternate type=application/atom+xml title="Rody Davis"><link href=/ rel=preconnect crossorigin=""><script src="/js/min.js?hash=c372ec6a84" async defer></script><script src="/js/cached.js?hash=9030142fbb" async defer></script><script csp-hash="">if (/Mac OS X/.test(navigator.userAgent)) 
        document
          .documentElement
          .classList
          .add('apple')</script><script type=text/javascript>function getCode(repo, path, branch) {
        const url = `https://raw.githubusercontent.com/rodydavis/${repo}/${branch}/${path}`;
        return fetch(url).then((res) => res.text());
      }
      async function addFiles(tag, path, branch = "main") {
        const output = document.querySelector('#playground');
        output.removeAttribute('hidden');
        const codeEditor = document.createElement('playground-file-editor');
        const uiEditor = document.createElement('playground-file-editor');
        const preview = document.createElement('playground-preview');
        const ide = document.createElement('playground-project');
        ide.id = "project";
        function addScript(filename, source) {
          const elem = document.createElement('script');
          elem.setAttribute('type', `sample/${
            filename.split('.').pop()
          }`);
          elem.setAttribute('filename', filename);
          elem.innerHTML = source;
          ide.append(elem);
        }
        const name = path.split('.ts').join('.js');
        const ui = await getCode(tag, 'index.html', branch);
        addScript('index.html', ui.split(`/src/${path}`).join(`./${name}`));
        preview.setAttribute('project', ide.id);
        uiEditor.setAttribute('project', ide.id);
        uiEditor.setAttribute('filename', path);
        output.append(preview);
        const code = await getCode(tag, `src/${path}`, branch);
        addScript(path, code);
        codeEditor.setAttribute('line-numbers', '');
        codeEditor.setAttribute('project', ide.id);
        codeEditor.setAttribute('filename', path);
        output.append(codeEditor);
        output.append(ide);
      }</script><script src=https://unpkg.com/playground-elements@0.10.0/playground-project.js?module type=module></script><script src=https://unpkg.com/playground-elements@0.10.0/playground-file-editor.js?module type=module></script><script src=https://unpkg.com/playground-elements@0.10.0/playground-preview.js?module type=module></script><script src=https://dartpad.dev/inject_embed.dart.js type=text/javascript defer></script><style>#playground {
        --playground-preview-width: 40%;
        --playground-tab-bar-background: var(--background);
        --playground-tab-bar-foreground-color: var(--on-background);
        --playground-border: var(--on-background);
        --playground-preview-toolbar-background: var(--background);
        --playground-preview-toolbar-foreground-color: var(--on-background);
        --playground-highlight-color: var(--primary);
        --playground-code-background: rgb(48, 65, 72);
        --playground-code-default-color: rgb(248, 248, 242);
        --playground-code-cursor-color: rgb(248, 248, 240);
        --playground-code-selection-background: rgba(101, 115, 126, 0.33);
        --playground-code-gutter-background: rgb(48, 65, 72);
        --playground-code-gutter-border-right: 0;
        --playground-code-linenumber-color: rgb(208, 208, 208);
        --playground-code-atom-color: rgb(197, 148, 197);
        --playground-code-attribute-color: rgb(197, 148, 197);
        --playground-code-builtin-color: rgb(102, 217, 239);
        --playground-code-comment-color: rgb(101, 115, 126);
        --playground-code-def-color: rgb(102, 153, 204);
        --playground-code-keyword-color: rgb(197, 148, 197);
        --playground-code-meta-color: rgb(248, 248, 242);
        --playground-code-number-color: rgb(249, 145, 87);
        --playground-code-operator-color: rgb(248, 248, 242);
        --playground-code-qualifier-color: rgb(248, 248, 242);
        --playground-code-string-color: rgb(153, 199, 148);
        --playground-code-string-2-color: rgb(248, 248, 242);
        --playground-code-tag-color: rgb(197, 148, 197);
        --playground-code-type-color: rgb(248, 248, 242);
        --playground-code-variable-color: rgb(248, 248, 242);
        --playground-code-variable-2-color: rgb(248, 248, 242);
        --playground-code-variable-3-color: rgb(248, 248, 242);
        --playground-code-callee-color: rgb(248, 248, 242);
        --playground-code-property-color: rgb(153, 199, 148);
        --playground-code-font-family: var(--default-font);
        --playground-code-font-size: 90%;
        --playground-code-background: var(--surface-background);
      }</style><style>@import url(https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css);:root{--primary:#f9c412;--on-primary:#181818;--secondary:#e7bf60;--background:#181818;--on-background:#eee;--playground-height:450px;--surface-background:#2d2d2d}div.apple{background-image:url(/img/badges/app_store.png);margin:4px;height:80px;width:200px;background-size:contain;background-repeat:no-repeat;background-position:center}#playground{width:100%;height:calc(var(--playground-height)*2);background-color:var(--surface-background)}#playground>playground-file-editor,#playground>playground-preview{height:var(--playground-height)}.tags{display:wrap}.click{cursor:pointer;text-decoration:none}.chip{display:inline-block;padding:0 15px;border-radius:25px;margin:4px;background-color:var(--primary);color:var(--on-primary)}main img{content-visibility:auto}article *{scroll-margin-top:50px}header nav{z-index:1;position:fixed;top:0;left:0;width:100vw;padding:.375em 1.5em;background:rgba(255,255,255,.9);font-weight:200;text-align:right}:root{--main-width:calc(100vw - 3em)}@media (min-width:37.5em){:root{--main-width:calc(37.5em - 3em)}}dialog,share-widget{position:fixed;opacity:.9}share-widget{right:20px;bottom:20px}share-widget div{width:30px;height:30px;background-image:url(/img/share.svg);background-repeat:no-repeat;background-position:center}.apple share-widget div{background-image:url(/img/share-apple.svg)}body,share-widget button{margin:0}share-widget button:active{transform:scale(1.2)}dialog{background-color:#8dff80;z-index:1000}header aside{font-style:italic}#nav{z-index:2;position:relative}#reading-progress{z-index:1;background-color:var(--primary);width:100vw;position:absolute;left:0;top:0;bottom:0;transform:translate(-100vw,0);will-change:transform;pointer-events:none}#posts li{margin-bottom:.5em}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:100;src:url(/fonts/Inter-Thin.woff2) format("woff2"),url(/fonts/Inter-Thin.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:100;src:url(/fonts/Inter-ThinItalic.woff2) format("woff2"),url(/fonts/Inter-ThinItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:200;src:url(/fonts/Inter-ExtraLight.woff2) format("woff2"),url(/fonts/Inter-ExtraLight.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:200;src:url(/fonts/Inter-ExtraLightItalic.woff2) format("woff2"),url(/fonts/Inter-ExtraLightItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:300;src:url(/fonts/Inter-Light.woff2) format("woff2"),url(/fonts/Inter-Light.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:300;src:url(/fonts/Inter-LightItalic.woff2) format("woff2"),url(/fonts/Inter-LightItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:400;src:url(/fonts/Inter-Regular.woff2) format("woff2"),url(/fonts/Inter-Regular.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:400;src:url(/fonts/Inter-Italic.woff2) format("woff2"),url(/fonts/Inter-Italic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:500;src:url(/fonts/Inter-Medium.woff2) format("woff2"),url(/fonts/Inter-Medium.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:500;src:url(/fonts/Inter-MediumItalic.woff2) format("woff2"),url(/fonts/Inter-MediumItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:600;src:url(/fonts/Inter-SemiBold.woff2) format("woff2"),url(/fonts/Inter-SemiBold.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:600;src:url(/fonts/Inter-SemiBoldItalic.woff2) format("woff2"),url(/fonts/Inter-SemiBoldItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:700;src:url(/fonts/Inter-Bold.woff2) format("woff2"),url(/fonts/Inter-Bold.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:700;src:url(/fonts/Inter-BoldItalic.woff2) format("woff2"),url(/fonts/Inter-BoldItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:800;src:url(/fonts/Inter-ExtraBold.woff2) format("woff2"),url(/fonts/Inter-ExtraBold.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:800;src:url(/fonts/Inter-ExtraBoldItalic.woff2) format("woff2"),url(/fonts/Inter-ExtraBoldItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:normal;font-weight:900;src:url(/fonts/Inter-Black.woff2) format("woff2"),url(/fonts/Inter-Black.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI";font-style:italic;font-weight:900;src:url(/fonts/Inter-BlackItalic.woff2) format("woff2"),url(/fonts/Inter-BlackItalic.woff) format("woff")}@font-face{font-display:optional;font-family:"Inter UI var alt";font-weight:100 900;font-style:normal;font-named-instance:"Regular";src:url(/fonts/Inter-roman.var.woff2) format("woff2")}@font-face{font-display:optional;font-family:"Inter UI var alt";font-weight:100 900;font-style:italic;font-named-instance:"Italic";src:url(/fonts/Inter-italic.var.woff2) format("woff2")}html{line-height:1.15;-webkit-text-size-adjust:100%;font-family:Inter UI,sans-serif;--font-family:Inter UI, sans-serif}h1{font-size:3em;line-height:1.25;margin:.67em 0 .5em;font-size:2.074rem}a{background-color:transparent;color:#f9c412;text-decoration:none;color:var(--primary)}b,strong{font-weight:700}img{border-style:none;max-width:100%;height:auto;margin:0 auto}button,input,select{font-family:inherit;font-size:100%;line-height:1.15}input,select{margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[hidden],template{display:none}h2{font-size:2.5em;line-height:1.2;margin-bottom:.6em}h3{font-size:2em;line-height:1.125;margin-bottom:.75em;font-size:1.4rem}h4{font-size:1.5em;margin-bottom:1em;line-height:1.5em}body,p,pre,ul{font-size:1em}p,pre,ul{margin-bottom:1.5em}h1,h2,h3,h4{line-height:2.4rem;margin-bottom:1.36rem}h2{font-size:1.728rem}h3,h4{line-height:1.6rem}h4{font-size:1.2rem}body,p,pre,ul{font-size:1rem;line-height:1.6}p,pre,ul{margin-bottom:1.36rem}@media (min-width:600px){h1{font-size:4.3978rem;line-height:4.4rem}h2{font-size:3.1097rem;line-height:3.52rem}h3{font-size:2.1989rem;line-height:2.64rem}h4{font-size:1.5554rem;line-height:1.76rem}body,p,pre,ul{font-size:1.1rem;line-height:1.6}h1,h2,h3,h4,p,pre,ul{margin-bottom:1.496rem}}@media (min-width:1200px){h1{font-size:6.0756rem;line-height:6.72rem}h2{font-size:4.05rem;line-height:4.8rem}h3{font-size:2.7rem;line-height:2.88rem}h4{font-size:1.8rem;line-height:1.92rem}body,p,pre,ul{font-size:1.2rem;line-height:1.6}h1,h2,h3,h4,p,pre,ul{margin-bottom:1.632rem}}code,pre{overflow-x:auto}pre{font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace}pre code:not([class]){padding:1.5em;overflow-x:scroll}code{border-radius:.3em;color:#e2777a;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:90%;background:#2d2d2d;padding:0}h1,h2,h3,h4{font-family:var(--font-family)}h2,h4{font-style:italic}a:hover{text-decoration:underline}dt{font-weight:600;padding-top:.75em;padding-left:.75em}@media (max-width:767px){x:-moz-any-link{display:table-cell}}@supports (font-variation-settings:normal){html{font-family:Inter UI var alt,sans-serif;--font-family:Inter UI var alt, sans-serif}}button,input,select{border-radius:.3em;max-width:100%}input{padding:.75em}input,select{margin-bottom:1.5em;display:inline}button{background:#f2f2f2;color:#191919;cursor:pointer;display:inline-block;padding:.75em 1.5em;text-align:center;margin:0 .75em 1.5em 0}button:hover{background:#d9d9d9;color:var(--surface)}button:not([disabled]){background:#f9c412;color:#181818;background:var(--primary)}button:not([disabled]):hover{background:#ba9005;color:#000;background:var(--secondary)}input[type=color],input[type=datetime],input[type=file],input[type=number],input[type=text],input[type=time],input[type=url],select{border:1px solid #595959;padding:.75em}*{border:0;box-sizing:border-box}body,header nav a{font-family:var(--font-family)}body{background:var(--background);color:var(--on-background)}header{padding:4.5em 1.5em 3em;width:37.5em;margin:0 auto;text-align:center;max-width:100%;display:flex;align-items:center;flex-direction:column}header p,ul{margin-top:0}header nav h1{float:left;font-size:inherit;line-height:inherit;margin:0;text-align:left}header nav a{font-weight:700;text-decoration:none;color:#181818;margin-left:1.5em}header nav a:first-of-type{margin-left:auto}header nav a:last-of-type{margin-right:1.5em}main{max-width:70rem;margin:0 auto;border-top:.5px solid #ccc}footer{background:var(--background);color:var(--on-background);text-align:center;padding:2em 2em 100px}footer>*{margin:.6em}footer nav a img{vertical-align:middle}footer nav,footer p{font-size:90%}article{max-width:100%;padding:1.5em;width:37.5em;margin:0 auto}li ul{margin-bottom:0}code[class*=language-],pre[class*=language-]{color:#ccc;background:0 0;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;background:#2d2d2d}.token.comment{color:#999}.token.punctuation{color:#ccc}.token.tag{color:#e2777a}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.property{color:#f8c555}.token.builtin,.token.keyword{color:#cc99cd}.token.regex,.token.string{color:#7ec699}.token.operator,.token.url{color:#67cdcc}.token.inserted{color:green}</style><header><nav><div id=nav><h1><a href=/ title=Homepage>Rody Davis</a></h1><a href=/about/ >About</a> <a href=/talks/ >Talks</a> <a href=/apps/ >Apps</a></div><div id=reading-progress aria-hidden=true></div></nav><h1>Lit and Figma</h1><aside>7 min read.</aside><dialog id=message></dialog><noscript><img src="/.netlify/functions/ga?v=1&_v=j83&t=pageview&dr=https%3A%2F%2Fno-script.com&_s=1&dh=rodydavis.com&dp=%2Fposts%2Ffigma-and-lit%2F&ul=en-us&de=UTF-8&dt=Lit%20and%20Figma&tid=G-JQNPVBL9DR" style=display:none width=1 alt="" height=1></noscript></header><main><article><div class=tags><a href=/tags/lit/ class=click><div class=chip>lit</div></a><a href=/tags/figma/ class=click><div class=chip>figma</div></a><a href=/tags/plugin/ class=click><div class=chip>plugin</div></a><a href=/tags/webpack/ class=click><div class=chip>webpack</div></a><a href=/tags/web/ class=click><div class=chip>web</div></a></div><p>In this article I will go over how to set up a <a href=https://lit.dev>Lit</a> web component and use it to create a figma plugin.<p><strong>TLDR</strong> You can find the final source <a href=https://github.com/rodydavis/figma_lit_example>here</a>.<h2 id=prerequisites>Prerequisites <a href=#prerequisites class=direct-link>#</a></h2><ul><li>Vscode<li>Figma Desktop<li>Node<li>Typescript</ul><h2 id=getting-started>Getting Started <a href=#getting-started class=direct-link>#</a></h2><p>We can start off by creating a empty directory and naming it with <code>snake_case</code> whatever we want.<pre class=language-bash><code class=language-bash><span class="token function">mkdir</span> figma_lit_example<br><span class="token class-name builtin">cd</span> figma_lit_example</code></pre><h3 id=web-setup>Web Setup <a href=#web-setup class=direct-link>#</a></h3><p>Now we are in the <code>figma_lit_example</code> directory and can setup Figma and Lit. Let's start with node.<pre class=language-bash><code class=language-bash><span class="token function">npm</span> init -y</code></pre><p>This will setup the basics for a node project and install the packages we need. Now lets add some config files. Now open the <code>package.json</code> and replace it with the following:<pre class=language-json><code class=language-json><span class="token punctuation">{</span><br>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"figma_lit_example"</span><span class="token punctuation">,</span><br>  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span><br>  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Lit Figma Plugin"</span><span class="token punctuation">,</span><br>  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"lit"</span><span class="token operator">:</span> <span class="token string">"^2.0.0-rc.1"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"devDependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"@figma/plugin-typings"</span><span class="token operator">:</span> <span class="token string">"^1.23.0"</span><span class="token punctuation">,</span><br>    <span class="token property">"html-webpack-inline-source-plugin"</span><span class="token operator">:</span> <span class="token string">"^1.0.0-beta.2"</span><span class="token punctuation">,</span><br>    <span class="token property">"html-webpack-plugin"</span><span class="token operator">:</span> <span class="token string">"^4.3.0"</span><span class="token punctuation">,</span><br>    <span class="token property">"css-loader"</span><span class="token operator">:</span> <span class="token string">"^5.2.4"</span><span class="token punctuation">,</span><br>    <span class="token property">"ts-loader"</span><span class="token operator">:</span> <span class="token string">"^8.0.0"</span><span class="token punctuation">,</span><br>    <span class="token property">"typescript"</span><span class="token operator">:</span> <span class="token string">"^4.2.4"</span><span class="token punctuation">,</span><br>    <span class="token property">"url-loader"</span><span class="token operator">:</span> <span class="token string">"^4.1.1"</span><span class="token punctuation">,</span><br>    <span class="token property">"webpack"</span><span class="token operator">:</span> <span class="token string">"^4.44.1"</span><span class="token punctuation">,</span><br>    <span class="token property">"webpack-cli"</span><span class="token operator">:</span> <span class="token string">"^4.6.0"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token string">"npx webpack --mode=development --watch"</span><span class="token punctuation">,</span><br>    <span class="token property">"copy"</span><span class="token operator">:</span> <span class="token string">"mkdir -p lit-plugin && cp ./manifest.json ./lit-plugin/manifest.json && cp ./dist/ui.html ./lit-plugin/ui.html && cp ./dist/code.js ./lit-plugin/code.js"</span><span class="token punctuation">,</span><br>    <span class="token property">"build"</span><span class="token operator">:</span> <span class="token string">"npx webpack --mode=production && npm run copy"</span><span class="token punctuation">,</span><br>    <span class="token property">"zip"</span><span class="token operator">:</span> <span class="token string">"npm run build && zip -r lit-plugin.zip lit-plugin"</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"browserslist"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token string">"last 1 Chrome versions"</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token property">"keywords"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token property">"author"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span><br>  <span class="token property">"license"</span><span class="token operator">:</span> <span class="token string">"ISC"</span><br><span class="token punctuation">}</span></code></pre><p>This will add everything we need and add the scripts we need for development and production. Then run the following:<pre class=language-bash><code class=language-bash><span class="token function">npm</span> i</code></pre><p>This will install everything we need to get started. Now we need to setup some config files.<pre class=language-bash><code class=language-bash><span class="token function">touch</span> tsconfig.json<br><span class="token function">touch</span> webpack.config.ts</code></pre><p>This will create 2 files. Now open up <code>tsconfig.json</code> and paste the following:<pre class=language-json><code class=language-json><span class="token punctuation">{</span><br>  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es2017"</span><span class="token punctuation">,</span><br>    <span class="token property">"module"</span><span class="token operator">:</span> <span class="token string">"esNext"</span><span class="token punctuation">,</span><br>    <span class="token property">"moduleResolution"</span><span class="token operator">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span><br>    <span class="token property">"lib"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"es2017"</span><span class="token punctuation">,</span> <span class="token string">"dom"</span><span class="token punctuation">,</span> <span class="token string">"dom.iterable"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token property">"typeRoots"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"./node_modules/@types"</span><span class="token punctuation">,</span> <span class="token string">"./node_modules/@figma"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token property">"declaration"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"sourceMap"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"inlineSources"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"noUnusedLocals"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"noImplicitReturns"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"noFallthroughCasesInSwitch"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"experimentalDecorators"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"skipLibCheck"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"strict"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"noImplicitAny"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token property">"outDir"</span><span class="token operator">:</span> <span class="token string">"./lib"</span><span class="token punctuation">,</span><br>    <span class="token property">"baseUrl"</span><span class="token operator">:</span> <span class="token string">"./packages"</span><span class="token punctuation">,</span><br>    <span class="token property">"importHelpers"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token punctuation">{</span><br>        <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"ts-lit-plugin"</span><span class="token punctuation">,</span><br>        <span class="token property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>          <span class="token property">"no-unknown-tag-name"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-unclosed-tag"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-unknown-property"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-unintended-mixed-binding"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-invalid-boolean-binding"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-expressionless-property-binding"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-noncallable-event-binding"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-boolean-in-attribute-binding"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-complex-attribute-binding"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-nullable-attribute-binding"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-incompatible-type-binding"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-invalid-directive-binding"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-incompatible-property-type"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-unknown-property-converter"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-invalid-attribute-name"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-invalid-tag-name"</span><span class="token operator">:</span> <span class="token string">"error"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-unknown-attribute"</span><span class="token operator">:</span> <span class="token string">"off"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-unknown-event"</span><span class="token operator">:</span> <span class="token string">"off"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-unknown-slot"</span><span class="token operator">:</span> <span class="token string">"off"</span><span class="token punctuation">,</span><br>          <span class="token property">"no-invalid-css"</span><span class="token operator">:</span> <span class="token string">"off"</span><br>        <span class="token punctuation">}</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">]</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property">"include"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"src/**/*.ts"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token property">"references"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span><br></code></pre><p>This is a basic typescript config. Now open up <code>webpack.config.ts</code> and paste the following:<pre class=language-js><code class=language-js><span class="token keyword">const</span> HtmlWebpackInlineSourcePlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"html-webpack-inline-source-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"html-webpack-plugin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"path"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>module<span class="token punctuation">.</span><span class="token function function-variable">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env<span class="token punctuation">,</span> argv</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span><br>  <span class="token property literal-property">mode</span><span class="token operator">:</span> argv<span class="token punctuation">.</span>mode <span class="token operator">===</span> <span class="token string">"production"</span> <span class="token operator">?</span> <span class="token string">"production"</span> <span class="token operator">:</span> <span class="token string">"development"</span><span class="token punctuation">,</span><br>  <span class="token property literal-property">devtool</span><span class="token operator">:</span> argv<span class="token punctuation">.</span>mode <span class="token operator">===</span> <span class="token string">"production"</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token string">"inline-source-map"</span><span class="token punctuation">,</span><br>  <span class="token property literal-property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property literal-property">ui</span><span class="token operator">:</span> <span class="token string">"./src/ui.ts"</span><span class="token punctuation">,</span><br>    <span class="token property literal-property">code</span><span class="token operator">:</span> <span class="token string">"./src/code.ts"</span><span class="token punctuation">,</span><br>    <span class="token property literal-property">app</span><span class="token operator">:</span> <span class="token string">"./src/my-app.ts"</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property literal-property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property literal-property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token punctuation">{</span> <span class="token property literal-property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source">\.tsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token property literal-property">use</span><span class="token operator">:</span> <span class="token string">"ts-loader"</span><span class="token punctuation">,</span> <span class="token property literal-property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source">node_modules</span><span class="token regex-delimiter">/</span></span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> <span class="token property literal-property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source">\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token property literal-property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"style-loader"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property literal-property">loader</span><span class="token operator">:</span> <span class="token string">"css-loader"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> <span class="token property literal-property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token language-regex regex-source">\.(png|jpg|gif|webp|svg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token property literal-property">loader</span><span class="token operator">:</span> <span class="token string">"url-loader"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property literal-property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property literal-property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">".ts"</span><span class="token punctuation">,</span> <span class="token string">".js"</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property literal-property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property literal-property">filename</span><span class="token operator">:</span> <span class="token string">"[name].js"</span><span class="token punctuation">,</span><br>    <span class="token property literal-property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"dist"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br>  <span class="token property literal-property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>      <span class="token property literal-property">template</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"ui.html"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>      <span class="token property literal-property">filename</span><span class="token operator">:</span> <span class="token string">"ui.html"</span><span class="token punctuation">,</span><br>      <span class="token property literal-property">inject</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>      <span class="token property literal-property">inlineSource</span><span class="token operator">:</span> <span class="token string">".(js|css)$"</span><span class="token punctuation">,</span><br>      <span class="token property literal-property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"ui"</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackInlineSourcePlugin</span><span class="token punctuation">(</span>HtmlWebpackPlugin<span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token punctuation">]</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></code></pre><p>Now we need to create the ui for the plugin:<pre class=language-bash><code class=language-bash><span class="token function">touch</span> ui.html</code></pre><p>Open up <code>/src/ui.html</code> and add the following:<pre class=language-html><code class=language-html><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-app</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-app</span><span class="token punctuation">></span></span><br></code></pre><p>Now we need a manifest file for the figma plugin:<pre class=language-bash><code class=language-bash><span class="token function">touch</span> manifest.json</code></pre><p>Open <code>manifest.json</code> and add the following:<pre class=language-json><code class=language-json><span class="token punctuation">{</span><br>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"figma_lit_example"</span><span class="token punctuation">,</span><br>  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"973668777853442323"</span><span class="token punctuation">,</span><br>  <span class="token property">"api"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span><br>  <span class="token property">"main"</span><span class="token operator">:</span> <span class="token string">"code.js"</span><span class="token punctuation">,</span><br>  <span class="token property">"ui"</span><span class="token operator">:</span> <span class="token string">"ui.html"</span><br><span class="token punctuation">}</span></code></pre><p>Now we need to create our web component:<pre class=language-bash><code class=language-bash><span class="token function">mkdir</span> src<br><span class="token class-name builtin">cd</span> src<br><span class="token function">touch</span> my-app.ts<br><span class="token function">touch</span> code.ts<br><span class="token function">touch</span> ui.ts<br><span class="token class-name builtin">cd</span> <span class="token punctuation">..</span></code></pre><p>Open <code>/src/ui.ts</code> and paste the following:<pre class=language-js><code class=language-js><span class="token keyword">import</span> <span class="token string">"./my-app"</span><span class="token punctuation">;</span><br></code></pre><p>Open <code>/src/my-app.ts</code> and paste the following:<pre class=language-js><code class=language-js><span class="token keyword">import</span> <span class="token punctuation">{</span> html<span class="token punctuation">,</span> LitElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lit"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> customElement<span class="token punctuation">,</span> query <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lit/decorators.js"</span><span class="token punctuation">;</span><br><br>@<span class="token function">customElement</span><span class="token punctuation">(</span><span class="token string">"my-app"</span><span class="token punctuation">)</span><br><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span><br>  @<span class="token function">property</span><span class="token punctuation">(</span><span class="token punctuation">)</span> amount <span class="token operator">=</span> <span class="token string">"5"</span><span class="token punctuation">;</span><br>  @<span class="token function">query</span><span class="token punctuation">(</span><span class="token string">"#count"</span><span class="token punctuation">)</span> countInput<span class="token operator">!</span><span class="token operator">:</span> HTMLInputElement<span class="token punctuation">;</span><br><br>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string"><br>      &lt;div><br>        &lt;h2>Rectangle Creator&lt;/h2><br>        &lt;p>Count: &lt;input id="count" value="</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>amount<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">" />&lt;/p><br>        &lt;button id="create" @click=</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>create<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">>Create&lt;/button><br>        &lt;button id="cancel" @click=</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>cancel<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">>Cancel&lt;/button><br>      &lt;/div><br>    </span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>countInput<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string">"create-rectangles"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> count <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string">"cancel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">private</span> <span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token parameter"><span class="token property literal-property">type</span><span class="token operator">:</span> string<span class="token punctuation">,</span> <span class="token property literal-property">content</span><span class="token operator">:</span> Object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token property literal-property">pluginMessage</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property literal-property">type</span><span class="token operator">:</span> type<span class="token punctuation">,</span> <span class="token operator">...</span>content <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><br>    parent<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> <span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br></code></pre><p>Open <code>code.ts</code> and paste the following:<pre class=language-js><code class=language-js><span class="token keyword">const</span> <span class="token property literal-property">options</span><span class="token operator">:</span> ShowUIOptions <span class="token operator">=</span> <span class="token punctuation">{</span><br>  <span class="token property literal-property">width</span><span class="token operator">:</span> <span class="token number">250</span><span class="token punctuation">,</span><br>  <span class="token property literal-property">height</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>figma<span class="token punctuation">.</span><span class="token function">showUI</span><span class="token punctuation">(</span>__html__<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>figma<span class="token punctuation">.</span>ui<span class="token punctuation">.</span><span class="token function function-variable">onmessage</span> <span class="token operator">=</span> <span class="token parameter">msg</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">switch</span> <span class="token punctuation">(</span>msg<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> <span class="token string">'create-rectangles'</span><span class="token operator">:</span><br>      <span class="token keyword">const</span> <span class="token property literal-property">nodes</span><span class="token operator">:</span> SceneNode<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> msg<span class="token punctuation">.</span>count<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token keyword">const</span> rect <span class="token operator">=</span> figma<span class="token punctuation">.</span><span class="token function">createRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        rect<span class="token punctuation">.</span>x <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">150</span><span class="token punctuation">;</span><br>        rect<span class="token punctuation">.</span>fills <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> <span class="token property literal-property">type</span><span class="token operator">:</span> <span class="token string">'SOLID'</span><span class="token punctuation">,</span> <span class="token property literal-property">color</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property literal-property">r</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property literal-property">g</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token property literal-property">b</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>        figma<span class="token punctuation">.</span>currentPage<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>rect<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>      figma<span class="token punctuation">.</span>currentPage<span class="token punctuation">.</span>selection <span class="token operator">=</span> nodes<span class="token punctuation">;</span><br>      figma<span class="token punctuation">.</span>viewport<span class="token punctuation">.</span><span class="token function">scrollAndZoomIntoView</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">break</span><span class="token punctuation">;</span><br>    <span class="token keyword">default</span><span class="token operator">:</span><br>      <span class="token keyword">break</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  figma<span class="token punctuation">.</span><span class="token function">closePlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br></code></pre><h2 id=building-the-plugin>Building the Plugin <a href=#building-the-plugin class=direct-link>#</a></h2><p>Now that we have all the code in place we can build the plugin and test it in Figma.<pre class=language-bash><code class=language-bash><span class="token function">npm</span> run build</code></pre><h4 id=step-1>Step 1 <a href=#step-1 class=direct-link>#</a></h4><p>Download and open the desktop version of Figma.<p><a href=https://www.figma.com/downloads/ >https://www.figma.com/downloads/</a><h4 id=step-2>Step 2 <a href=#step-2 class=direct-link>#</a></h4><p>Open the menu and navigate to “Plugins > Manage plugins”</p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/manage-plugin-1920w.avif 1920w, /img/figma/manage-plugin-1280w.avif 1280w, /img/figma/manage-plugin-640w.avif 640w, /img/figma/manage-plugin-320w.avif 320w" type=image/avif><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/manage-plugin-1920w.webp 1920w, /img/figma/manage-plugin-1280w.webp 1280w, /img/figma/manage-plugin-640w.webp 640w, /img/figma/manage-plugin-320w.webp 320w" type=image/webp><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/manage-plugin-1920w.jpg 1920w, /img/figma/manage-plugin-1280w.jpg 1280w, /img/figma/manage-plugin-640w.jpg 640w, /img/figma/manage-plugin-320w.jpg 320w" type=image/jpeg><img src=/img/figma/manage-plugin-1920w.jpg style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 583 615'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVQY0x2NPUsCAQBA7wc0CAl6HQWVeH1R0hD5VaINBl1Wk+VZS0UQemfhHV1Q5iL0Axpa+gkNEUQRBUE09B9O1zOpIbuaXtbweNt7Qrh2R2IuTTwWZUFR0DSNUklH13WKxQLCbGQKWZaRJAlVVXFdl3b7899/CIlkiqA8hF/sIZdTcRwH27ap1+s0Go1OIRpmONCPv9vDem6Vr+8fmq0WrfcPnOYbQjyzRjCSRpyYIaNu8fJ4y8PNFffXl7w+P3UW2xVCqsXgsk5gcZcRZZPQyg5SKs/GwSnC5PgYfaIPn6cLr9jLQDLL6Hwe7/QSWe0IoXJSxTBM9ssGplGmdmxRPTSx9gpcnJ/xCw4cliiI+rAiAAAAAElFTkSuQmCC'%3E%3C/image%3E%3C/svg%3E&#34;)" width=100% decoding=async loading=lazy></picture><h4 id=step-3>Step 3 <a href=#step-3 class=direct-link>#</a></h4><p>Click on the plus icon to add a local plugin.</p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/add-plugin-1920w.avif 1920w, /img/figma/add-plugin-1280w.avif 1280w, /img/figma/add-plugin-640w.avif 640w, /img/figma/add-plugin-320w.avif 320w" type=image/avif><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/add-plugin-1920w.webp 1920w, /img/figma/add-plugin-1280w.webp 1280w, /img/figma/add-plugin-640w.webp 640w, /img/figma/add-plugin-320w.webp 320w" type=image/webp><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/add-plugin-1920w.jpg 1920w, /img/figma/add-plugin-1280w.jpg 1280w, /img/figma/add-plugin-640w.jpg 640w, /img/figma/add-plugin-320w.jpg 320w" type=image/jpeg><img src=/img/figma/add-plugin-1920w.jpg style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 689 551'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAHCAYAAADam2dgAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAiElEQVQY022PzQrEIAyEff83LPTq+l88NNHa6qy6tOyhAx8JZDIhQimFxAxmAhEh5zxJKaGUAiklhPMBx9Vwdt4UQviZ+DhRrorW2kOtdZq89xDWWtC+4+zR9+A2Do25cM6BehIdFZzLNP8nGWMgtm17tt4UY4RY1xXjQyk/s2qtJ6Mfp5ZlwRcSq/P3dmifBgAAAABJRU5ErkJggg=='%3E%3C/image%3E%3C/svg%3E&#34;)" width=100% decoding=async loading=lazy></picture><p>Click on the box to link to an existing plugin to navigate to the <code>lit-plugin</code> folder that was created after the build process in your source code and select <code>manifest.json</code>.</p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/create-plugin-1920w.avif 1920w, /img/figma/create-plugin-1280w.avif 1280w, /img/figma/create-plugin-640w.avif 640w, /img/figma/create-plugin-320w.avif 320w" type=image/avif><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/create-plugin-1920w.webp 1920w, /img/figma/create-plugin-1280w.webp 1280w, /img/figma/create-plugin-640w.webp 640w, /img/figma/create-plugin-320w.webp 320w" type=image/webp><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/create-plugin-1920w.jpg 1920w, /img/figma/create-plugin-1280w.jpg 1280w, /img/figma/create-plugin-640w.jpg 640w, /img/figma/create-plugin-320w.jpg 320w" type=image/jpeg><img src=/img/figma/create-plugin-1920w.jpg style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 647 441'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAGCAYAAAARx7TFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvElEQVQI1yWPPQ6CQBCFt3YhJHoBKvEGNCQchF4Tb2Fj1I4DWVsZYyKWVkRRAs0K6PrzueBrJpP58t4bkec5aZpyvd2AD5/mztDzEEIgexLLshBKKZS689YPcg2bU8F0PGE5m9OTsoNFVVU8tbl+35wbWB8vrJYLtrs9YRjiOM7fqa5rtH7RSTd4oxH9QZ/kkBDHMUK3LkYt+DXzaWDXdbuYKIoIggCRZRlFUdA+UJYl7e77fhcjTSfbtvkBejmbyWZqifcAAAAASUVORK5CYII='%3E%3C/image%3E%3C/svg%3E&#34;)" width=100% decoding=async loading=lazy></picture><h4 id=step-4>Step 4 <a href=#step-4 class=direct-link>#</a></h4><p>To run the plugin navigate to “Plugins > Development > figma_lit_example” to launch your plugin.</p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/run-lit-plugin-1920w.avif 1920w, /img/figma/run-lit-plugin-1280w.avif 1280w, /img/figma/run-lit-plugin-640w.avif 640w, /img/figma/run-lit-plugin-320w.avif 320w" type=image/avif><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/run-lit-plugin-1920w.webp 1920w, /img/figma/run-lit-plugin-1280w.webp 1280w, /img/figma/run-lit-plugin-640w.webp 640w, /img/figma/run-lit-plugin-320w.webp 320w" type=image/webp><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/run-lit-plugin-1920w.jpg 1920w, /img/figma/run-lit-plugin-1280w.jpg 1280w, /img/figma/run-lit-plugin-640w.jpg 640w, /img/figma/run-lit-plugin-320w.jpg 320w" type=image/jpeg><img src=/img/figma/run-lit-plugin-1920w.jpg style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1428 786'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA80lEQVQI1x2PsUsCYRyGv6l/IWqRNpGWxoiWHBzbDGpraQkiHEIchHIIBwejJg2aGipoCK4QCSEIDlSkQQiCvO/u9ErvOz33p+9r+PEML+/L8xOthsXr8xMd+51pHDObz1HRFEdKBo7UdHFdF5HaPiCR2Wdr75DaVZWLSpnbmzqzcUA8CYh+R3ieh3hodbHsPme1e1bSuyxuZlnbOeLS6lC1utSbH0izGP4MdXvE1/eAx7ceL+1Pytd3LK2us7CcJLWR0QoOwriY8/X8JPCJ1Zhe26ZYyHOSO+a8dIrUuTCixsFQanFHP+D7Q8JQoVT0T5P/ATbQvz3zp3qZAAAAAElFTkSuQmCC'%3E%3C/image%3E%3C/svg%3E&#34;)" width=100% decoding=async loading=lazy></picture><h4 id=step-5>Step 5 <a href=#step-5 class=direct-link>#</a></h4><p>Now your plugin should launch and you can create 5 rectangles on the canvas.</p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/plugin-overview-1920w.avif 1920w, /img/figma/plugin-overview-1280w.avif 1280w, /img/figma/plugin-overview-640w.avif 640w, /img/figma/plugin-overview-320w.avif 320w" type=image/avif><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/plugin-overview-1920w.webp 1920w, /img/figma/plugin-overview-1280w.webp 1280w, /img/figma/plugin-overview-640w.webp 640w, /img/figma/plugin-overview-320w.webp 320w" type=image/webp><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/plugin-overview-1920w.jpg 1920w, /img/figma/plugin-overview-1280w.jpg 1280w, /img/figma/plugin-overview-640w.jpg 640w, /img/figma/plugin-overview-320w.jpg 320w" type=image/jpeg><img src=/img/figma/plugin-overview-1920w.jpg style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 271 256'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjklEQVQY032PywrDIBBF/f9vk2yycCGR7HwkgRCVEF+3zEBb6KIXDshwrsyIEAKcc8x936i14nkexBhhrYXw3mPbNpB4nieTcwaF5mKeZ0zTxCzLAikljDFfgb56N3rvGGOglMLvfd8hlFJY1xVaaxzHwUJrjQssUJu4rouXo5D0EfAnLKSU+KRfaE6nvwAJB/Rj3DAwVwAAAABJRU5ErkJggg=='%3E%3C/image%3E%3C/svg%3E&#34;)" width=100% decoding=async loading=lazy></picture><p>If everything worked you will have 5 new rectangles on the canvas focused by figma.</p><picture><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/rectangles-1920w.avif 1920w, /img/figma/rectangles-1280w.avif 1280w, /img/figma/rectangles-640w.avif 640w, /img/figma/rectangles-320w.avif 320w" type=image/avif><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/rectangles-1920w.webp 1920w, /img/figma/rectangles-1280w.webp 1280w, /img/figma/rectangles-640w.webp 640w, /img/figma/rectangles-320w.webp 320w" type=image/webp><source sizes="(max-width: 608px) 100vw, 608px" srcset="/img/figma/rectangles-1920w.jpg 1920w, /img/figma/rectangles-1280w.jpg 1280w, /img/figma/rectangles-640w.jpg 640w, /img/figma/rectangles-320w.jpg 320w" type=image/jpeg><img src=/img/figma/rectangles-1920w.jpg style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 700 212'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAECAYAAAC+0w63AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAmklEQVQI122OOwrCUBBFsxFdinbGBWht1pMNxML4wSJWugMLA4I7EKycN/P8xgcS6+v7YGWKYS6HOcONWATEGorFzy+7TX8sZOdESim8xl1URQIu56jTNuiwxjvvwaxG4N0MH882MHkfj8UQpK9BrLIOnkU4qtMWlBUpi0HLBLqceuaemUlsxUEQm6qKZdvjHfvTDRdhnBuqfgHqvLw5vNhv6AAAAABJRU5ErkJggg=='%3E%3C/image%3E%3C/svg%3E&#34;)" width=100% decoding=async loading=lazy></picture><h2 id=wasm-support>WASM Support <a href=#wasm-support class=direct-link>#</a></h2><p>If there is a heavy computation that could benefit from running in <a href=https://webassembly.org/ >WebAssembly</a> the following will ensure that it is hardware accelerated when possible.<p>Let's add <a href=https://www.assemblyscript.org/ >AssemblyScript</a> and some dependencies that will be used for loading the WASM into the figma ui.<pre class=language-bash><code class=language-bash><span class="token function">npm</span> i @assemblyscript/loader<br><span class="token function">npm</span> i --D assemblyscript js-inline-wasm<br>npx asinit <span class="token class-name builtin">.</span></code></pre><p>Confirm yes to the prompt to have it generate the project files and add the following to the scripts in <code>package.json</code>:<pre class=language-bash><code class=language-bash><span class="token string">"asbuild:untouched"</span><span class="token class-name builtin">:</span> <span class="token string">"asc assembly/index.ts --target debug"</span>,<br><span class="token string">"asbuild:optimized"</span><span class="token class-name builtin">:</span> <span class="token string">"asc assembly/index.ts --target release"</span>,<br><span class="token string">"asbuild"</span><span class="token class-name builtin">:</span> <span class="token string">"npm run asbuild:untouched && npm run asbuild:optimized"</span>,<br><span class="token string">"inlinewasm"</span><span class="token class-name builtin">:</span> <span class="token string">"inlinewasm build/optimized.wasm --output src/wasm.ts"</span>,</code></pre><p>The code that will be used for the WASM is in <code>/assembly/index.ts</code> and it should show the following:<pre class=language-js><code class=language-js><span class="token comment">// The entry file of your WebAssembly module.</span><br><br><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter"><span class="token property literal-property">a</span><span class="token operator">:</span> i32<span class="token punctuation">,</span> <span class="token property literal-property">b</span><span class="token operator">:</span> i32</span><span class="token punctuation">)</span><span class="token operator">:</span> i32 <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br></code></pre><p>Now let's build the wasm module:<pre class=language-bash><code class=language-bash><span class="token function">npm</span> run asbuild</code></pre><p>For the wasm build to be ignored for git add the following to .gitignore:<pre class=language-bash><code class=language-bash>build</code></pre><p>This will generate the wasm and wat files in the build directory, but for figma to load them into the ui it needs to be inlined so run the following command to generate the js from the wasm file:<pre class=language-bash><code class=language-bash><span class="token function">npm</span> run inlinewasm</code></pre><p>This should generate <code>src/wasm.ts</code> with the following:<pre class=language-js><code class=language-js><span class="token keyword">const</span> encoded <span class="token operator">=</span> <span class="token string">'AGFzbQEAAAABBwFgAn9/AX8DAgEABQMBAAAHEAIDYWRkAAAGbWVtb3J5AgAKCQEHACAAIAFqCwAmEHNvdXJjZU1hcHBpbmdVUkwULi9vcHRpbWl6ZWQud2FzbS5tYXA='</span><span class="token punctuation">;</span><br><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> decoded <span class="token operator">=</span> <span class="token function">atob</span><span class="token punctuation">(</span>encoded<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> len <span class="token operator">=</span> decoded<span class="token punctuation">.</span>length<span class="token punctuation">;</span><br>    <span class="token keyword">const</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        bytes<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> decoded<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property literal-property">status</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token property literal-property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property string-property">"Content-Type"</span><span class="token operator">:</span> <span class="token string">"application/wasm"</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></code></pre><p>Now open up the <code>/src/my-app.ts</code> and update with the following:<pre class=language-js><code class=language-js><span class="token keyword">import</span> <span class="token punctuation">{</span> html<span class="token punctuation">,</span> LitElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lit"</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span> customElement<span class="token punctuation">,</span> property<span class="token punctuation">,</span> query <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"lit/decorators.js"</span><span class="token punctuation">;</span><br><br>@<span class="token function">customElement</span><span class="token punctuation">(</span><span class="token string">"my-app"</span><span class="token punctuation">)</span><br><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">LitElement</span> <span class="token punctuation">{</span><br>  @<span class="token function">property</span><span class="token punctuation">(</span><span class="token punctuation">)</span> amount <span class="token operator">=</span> <span class="token string">"5"</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Pass in a value for the number of rectangles to create</span><br>  @<span class="token function">query</span><span class="token punctuation">(</span><span class="token string">"#count"</span><span class="token punctuation">)</span> countInput<span class="token operator">!</span><span class="token operator">:</span> HTMLInputElement<span class="token punctuation">;</span><br><br>  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string"><br>      &lt;div><br>        &lt;h2>Rectangle Creator&lt;/h2><br>        &lt;!-- Pass in the amount to the input value --><br>        &lt;p>Count: &lt;input id="count" value="</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>amount<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">" />&lt;/p><br>        ...<br>      &lt;/div><br>    </span><span class="token string template-punctuation">`</span></span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token operator">...</span><br><span class="token punctuation">}</span></code></pre><p>This will let us pass in the amount of boxes to create externally.<p>Now open <code>/src/ui.ts</code> and update it with the following:<pre class=language-js><code class=language-js><span class="token keyword">import</span> <span class="token string">"./my-app"</span><span class="token punctuation">;</span><br><br><span class="token keyword">import</span> wasm <span class="token keyword">from</span> <span class="token string">"./wasm"</span><span class="token punctuation">;</span> <span class="token comment">// &lt;-- Our WASM file to load</span><br><br>WebAssembly<span class="token punctuation">.</span><span class="token function">instantiateStreaming</span><span class="token punctuation">(</span>wasm <span class="token keyword">as</span> Promise<span class="token operator">&lt;</span>Response<span class="token operator">></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// @ts-ignore</span><br>  <span class="token keyword">const</span> <span class="token property literal-property">value</span><span class="token operator">:</span> number <span class="token operator">=</span> obj<span class="token punctuation">.</span>instance<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"return from wasm"</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'my-app'</span><span class="token punctuation">)</span><span class="token operator">!</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">;</span><br>  elem<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'amount'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>value<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string template-punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></code></pre><p>Now when we build the plugin and run it in figma the amount of boxes will be the result of calling into wasm!<h2 id=conclusion>Conclusion <a href=#conclusion class=direct-link>#</a></h2><p>If you want to learn more about building a plugin in Figma you can read more <a href=https://www.figma.com/plugin-docs/intro/ >here</a> and for Lit you can read the docs <a href=https://lit.dev>here</a>.<h1>🙏🙏🙏</h1><p>Since you've made it this far, <a href=https://rodydavis.com/posts/figma-and-lit/ on-click=share>sharing</a> this article on your favorite social media network would be highly appreciated 💖! For feedback, please <a href=https://twitter.com/rodydavis rel=noopener target=_blank>ping me on Twitter.</a></p><share-widget><button aria-label=Share href=https://rodydavis.com/posts/figma-and-lit/ on-click=share><div></div></button></share-widget><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"Lit and Figma","image":["https://rodydavis.com/img/figma/manage-plugin-1920w.jpg","https://rodydavis.com/img/figma/add-plugin-1920w.jpg","https://rodydavis.com/img/figma/create-plugin-1920w.jpg","https://rodydavis.com/img/figma/run-lit-plugin-1920w.jpg","https://rodydavis.com/img/figma/plugin-overview-1920w.jpg","https://rodydavis.com/img/figma/rectangles-1920w.jpg"],"author":"Rody Davis","genre":"https://schema.org/Code","publisher":{"@type":"Organization","name":"Rody Davis","logo":{"@type":"ImageObject","url":"/img/favicon/favicon-32x32.png?hash=3df5885280"}},"url":"https://rodydavis.com/posts/figma-and-lit/","mainEntityOfPage":"https://rodydavis.com/posts/figma-and-lit/","datePublished":"2021-05-10","dateModified":"2022-03-17","description":"In this article I will go over how to set up a Lit web component and use it to create a figma plugin. TLDR You can find the final source..."}</script><p>Published <time datetime=2021-05-10>10 May 2021</time></article></main><footer><a href=https://twitter.com/rodydavis class="fab fa-twitter" rel="noopener noreferrer" target=_blank></a> <a href=https://facebook.com/rodydavisjr class="fab fa-facebook" rel="noopener noreferrer" target=_blank></a> <a href=https://www.linkedin.com/in/rodydavis class="fab fa-linkedin" rel="noopener noreferrer" target=_blank></a> <a href=https://www.youtube.com/rodydavis class="fab fa-youtube" rel="noopener noreferrer" target=_blank></a> <a href=https://www.instagram.com/rodydavisjr class="fab fa-instagram" rel="noopener noreferrer" target=_blank></a> <a href=https://www.github.com/rodydavis class="fab fa-github" rel="noopener noreferrer" target=_blank></a> <a href=https://www.tiktok.com/@rodydavisjr class="fab fa-tiktok" rel="noopener noreferrer" target=_blank></a></footer><script src="https://www.googletagmanager.com/gtag/js?id=G-JQNPVBL9DR" async></script><script>window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag('js', new Date());
      gtag('config', 'G-JQNPVBL9DR');</script>