import{p as f,h as p}from"./hooks.module.ae4b1a91.js";import{o,T}from"./TagChip.6739d71e.js";import y from"./NoteCards.ea3ead25.js";import"./preact.module.fd86da4c.js";function C(a){let n=a.tags;return n=n.filter(s=>a.active.includes(s)).concat(n.filter(s=>!a.active.includes(s))),o("div",{style:{display:"flex",flexDirection:"row",overflowX:"auto",gap:"0.5rem",margin:"1rem 0",padding:"0 0 1rem 0"},children:n.map(s=>{const r=a.active.includes(s);return o(T,{tag:s,active:r,onClick:()=>a.onClick(s)})})})}function k(a){const[n,s]=f(""),[r,l]=f([]),g=a.notes.flatMap(t=>t.tags),m=[...new Set(g)],u=a.notes.filter(t=>{const e=t.article.frontmatter,i=t.tags,w=(e.title||"").toLowerCase().includes(n.toLowerCase()),v=i.some(c=>c.toLowerCase().includes(n.toLowerCase())),d=w||v;return r.length===0?d:d&&r.every(c=>i.includes(c))});return p(()=>{const t=new URL(window.location.href),e=t.searchParams.get("q")||"";s(e);const i=t.searchParams.get("tags")||"";i&&l(i.split(","))},[]),o("div",{class:"search",style:{display:"flex",flexDirection:"column"},children:[o("input",{type:"text",value:n,onInput:t=>{s(t.currentTarget.value);const e=new URL(window.location.href);e.searchParams.set("q",t.currentTarget.value),window.history.pushState({},"",e.toString())},style:{flex:1,padding:"0.5rem",fontSize:"1.5rem"},placeholder:"Search"}),o(C,{tags:m,active:r,onClick:t=>{let e=r;r.includes(t)?e=r.filter(h=>h!==t):e=[...r,t],l(e);const i=new URL(window.location.href);i.searchParams.set("tags",e.join(",")),window.history.pushState({},"",i.toString())}}),o("div",{style:{padding:"0.5rem 0r"},children:["Showing ",u.length,' results for "',n,'"']}),o(y,{notes:u})]})}export{k as default};
