import{p as g,h as v}from"./hooks.module.ae4b1a91.js";import{o as a,T}from"./TagChip.6739d71e.js";import y from"./NoteCards.b1f23b20.js";import"./preact.module.fd86da4c.js";function C(o){return a("div",{style:{display:"flex",flexDirection:"row",overflowX:"auto",gap:"0.5rem",margin:"0.5rem 0",padding:"0 0 1rem 0"},children:o.tags.map(s=>{const i=o.active.includes(s);return a(T,{tag:s,active:i,onClick:()=>o.onClick(s)})})})}function k(o){const[s,i]=g(""),[n,l]=g([]),m=o.notes.flatMap(t=>t.tags),f=[...new Set(m)],u=o.notes.filter(t=>{const e=t.article.frontmatter,r=t.tags,w=(e.title||"").toLowerCase().includes(s.toLowerCase()),p=r.some(c=>c.toLowerCase().includes(s.toLowerCase())),d=w||p;return n.length===0?d:d&&n.every(c=>r.includes(c))});return v(()=>{const t=new URL(window.location.href),e=t.searchParams.get("q")||"";i(e);const r=t.searchParams.get("tags")||"";r&&l(r.split(","))},[]),a("div",{class:"search",style:{display:"flex",flexDirection:"column"},children:[a("input",{type:"text",value:s,onInput:t=>{i(t.currentTarget.value);const e=new URL(window.location.href);e.searchParams.set("q",t.currentTarget.value),window.history.pushState({},"",e.toString())},style:{flex:1,padding:"0.5rem",fontSize:"1.5rem"},placeholder:"Search"}),a(C,{tags:f,active:n,onClick:t=>{let e=n;n.includes(t)?e=n.filter(h=>h!==t):e=[...n,t],l(e);const r=new URL(window.location.href);r.searchParams.set("tags",e.join(",")),window.history.pushState({},"",r.toString())}}),a("div",{style:{padding:"0.5rem 0r"},children:["Showing ",u.length," results for ",s]}),a(y,{notes:u})]})}export{k as default};
